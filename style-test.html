<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TradeHub Tasarım Sistemi</title>
  <script type="module">
    import './src/style.css';
  </script>
  <style>
    /* Page-specific styles */
    .ds-swatch { cursor: pointer; position: relative; }
    .ds-swatch .ds-copied { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.7); color: #fff; font-size: 11px; font-weight: 600; border-radius: inherit; opacity: 0; transition: opacity 0.15s; pointer-events: none; }
    .ds-swatch.copied .ds-copied { opacity: 1; }
    .ds-spacing-bar { height: 24px; transition: width 0.3s ease; }
    .ds-motion-box { width: 60px; height: 60px; border-radius: 8px; }
    .ds-z-layer { height: 40px; position: relative; border: 1px solid; display: flex; align-items: center; padding-left: 12px; font-size: 13px; font-weight: 500; }

    /* Tab bar: scrollable on mobile */
    .ds-tab-bar { overflow-x: auto; -ms-overflow-style: none; scrollbar-width: none; }
    .ds-tab-bar::-webkit-scrollbar { display: none; }
    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

    /* Checkerboard pattern for transparent color indication */
    .ds-checker-bg { background: conic-gradient(#ccc 25%, #fff 25% 50%, #ccc 50% 75%, #fff 75%) 0 0 / 8px 8px; }
    .ds-checker-bg-sm { background: conic-gradient(#ccc 25%, #fff 25% 50%, #ccc 50% 75%, #fff 75%) 0 0 / 6px 6px; }

    /* Sticky pending changes bar */
    .ds-pending-bar {
      position: fixed; bottom: 0; left: 0; right: 0; height: 48px;
      background: linear-gradient(135deg, #1a1a1a, #2d2d2d); color: #fff;
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 24px; z-index: 999;
      transform: translateY(100%); transition: transform 0.3s ease;
      box-shadow: 0 -4px 16px rgba(0,0,0,0.2);
    }
    .ds-pending-bar--visible { transform: translateY(0); }

    /* Section heading left border accent */
    .ds-section-heading { border-left: 4px solid var(--color-primary-400); padding-left: 12px; }

    /* Component preview classes — driven by CSS variables */
    .comp-btn {
      background: var(--btn-bg); color: var(--btn-text);
      border: var(--btn-border-width) solid var(--btn-border-color);
      border-radius: var(--radius-button);
      padding: var(--spacing-button-y) var(--spacing-button-x);
      font-size: var(--btn-font-size); font-weight: var(--btn-font-weight);
      box-shadow: var(--btn-shadow); cursor: pointer; line-height: 1.25;
    }
    .comp-btn:hover { filter: brightness(0.9); }
    .comp-btn-sm { padding: calc(var(--spacing-button-y) * 0.65) calc(var(--spacing-button-x) * 0.7); font-size: calc(var(--btn-font-size) * 0.85); }
    .comp-btn-lg { padding: calc(var(--spacing-button-y) * 1.3) calc(var(--spacing-button-x) * 1.3); font-size: calc(var(--btn-font-size) * 1.15); }
    .comp-btn-outline {
      background: var(--btn-outline-bg); color: var(--btn-outline-text);
      border: var(--btn-outline-border-width) solid var(--btn-outline-border-color);
      border-radius: var(--radius-button);
      padding: var(--spacing-button-y) var(--spacing-button-x);
      font-size: var(--btn-font-size); font-weight: var(--btn-font-weight);
      cursor: pointer; line-height: 1.25;
    }
    .comp-btn-outline:hover { filter: brightness(0.9); background: rgba(204,153,0,0.05); }
    .comp-card {
      background: var(--card-bg);
      border: var(--card-border-width) solid var(--card-border-color);
      border-radius: var(--radius-card); padding: var(--spacing-card-padding);
      box-shadow: var(--shadow-card);
    }
    .comp-card-title { font-size: var(--card-title-size); font-weight: var(--card-title-weight); }
    .comp-input {
      background: var(--input-bg); color: var(--input-text-color);
      border: var(--input-border-width) solid var(--input-border-color);
      border-radius: var(--radius-input);
      padding: var(--spacing-input-y) var(--spacing-input-x);
      font-size: var(--input-font-size); outline: none; transition: border-color 0.15s;
    }
    .comp-input:focus { border-color: var(--input-focus-border-color); }
    .comp-badge {
      display: inline-flex; border-radius: var(--radius-badge);
      font-size: var(--badge-font-size); font-weight: var(--badge-font-weight);
      padding: var(--badge-padding-y) var(--badge-padding-x); line-height: 1.25;
    }
    .comp-nav-link {
      font-size: var(--nav-font-size); font-weight: var(--nav-font-weight);
      color: var(--nav-text-color); text-decoration: none; transition: color 0.15s;
    }
    .comp-nav-link:hover, .comp-nav-active { color: var(--nav-hover-color); }

  </style>
</head>
<body class="bg-surface text-text-primary">

<!-- Sticky Pending Changes Bar -->
<div id="pending-bar" class="ds-pending-bar">
  <span id="pending-bar-text" class="text-sm font-medium">0 değişiklik bekliyor</span>
  <div class="flex items-center gap-3">
    <button id="pending-reset-btn" class="px-3 py-1.5 text-xs font-semibold border border-white/30 text-white/80 hover:text-white hover:border-white/60 rounded-md transition-colors">Tümünü Sıfırla</button>
    <button id="pending-save-btn" onclick="saveToStyleCSS()" class="px-4 py-1.5 text-xs font-bold text-white rounded-md transition-all" style="background:linear-gradient(135deg,#f5a623,#e8740c);">
      <span id="save-btn-text">style.css'e Kaydet</span>
    </button>
  </div>
</div>

<!-- Toast Notification -->
<div id="save-toast" style="display:none; position:fixed; top:24px; right:24px; z-index:9999; background:#1a1a1a; color:#fff; padding:16px 24px; border-radius:12px; font-size:14px; box-shadow:0 8px 32px rgba(0,0,0,0.3); max-width:400px; transition:all 0.3s ease; opacity:0; transform:translateY(-8px);">
  <div style="display:flex; align-items:center; gap:8px; margin-bottom:4px;">
    <span id="toast-icon" style="font-size:18px;"></span>
    <strong id="toast-title"></strong>
  </div>
  <p id="toast-message" style="margin:0; font-size:13px; color:#ccc;"></p>
</div>

<!-- Main Content -->
<div class="max-w-[1200px] mx-auto px-6 py-8">

  <!-- Page Header -->
  <header class="mb-6 flex items-center justify-between">
    <div>
      <h1 class="text-4xl font-bold tracking-tighter mb-1">Tasarım Sistemi</h1>
      <p class="text-text-secondary text-base">TradeHub / Tailwind v4 Tema Tokenleri — Etkileşimli Referans</p>
    </div>
    <button id="dark-toggle" class="text-sm font-medium px-4 py-2 rounded-md border border-border-default dark:border-secondary-600 hover:bg-surface-raised dark:hover:bg-secondary-800 transition-colors flex-shrink-0">
      Koyu Mod
    </button>
  </header>

  <!-- Tab Bar -->
  <div class="ds-tab-bar flex gap-1 border-b border-border-default bg-white dark:bg-secondary-900 sticky top-0 z-30 -mx-6 px-6 mb-8" id="tab-bar" role="tablist">
    <button data-tab-trigger="kontroller" role="tab" class="px-4 py-3 text-sm font-semibold whitespace-nowrap cursor-pointer transition-colors border-b-2 text-primary-600 border-primary-500">Kontroller</button>
    <button data-tab-trigger="renkler" role="tab" class="px-4 py-3 text-sm font-medium whitespace-nowrap cursor-pointer transition-colors border-b-2 border-transparent text-text-secondary hover:text-text-primary hover:border-border-strong">Renkler</button>
    <button data-tab-trigger="tipografi" role="tab" class="px-4 py-3 text-sm font-medium whitespace-nowrap cursor-pointer transition-colors border-b-2 border-transparent text-text-secondary hover:text-text-primary hover:border-border-strong">Tipografi</button>
    <button data-tab-trigger="duzen" role="tab" class="px-4 py-3 text-sm font-medium whitespace-nowrap cursor-pointer transition-colors border-b-2 border-transparent text-text-secondary hover:text-text-primary hover:border-border-strong">Düzen</button>
    <button data-tab-trigger="efektler" role="tab" class="px-4 py-3 text-sm font-medium whitespace-nowrap cursor-pointer transition-colors border-b-2 border-transparent text-text-secondary hover:text-text-primary hover:border-border-strong">Efektler</button>
    <button data-tab-trigger="onizleme" role="tab" class="px-4 py-3 text-sm font-medium whitespace-nowrap cursor-pointer transition-colors border-b-2 border-transparent text-text-secondary hover:text-text-primary hover:border-border-strong">Önizleme</button>
  </div>

  <!-- ══════════ TAB PANEL: Kontroller ══════════ -->
  <div data-tab-panel="kontroller">

    <!-- ═══════════════════════════════════════════════════
         I. INTERACTIVE CONTROLS (auto-generated from ALL @theme vars)
         ═══════════════════════════════════════════════════ -->
    <section id="interactive-controls" class="mb-20">
      <div class="flex items-center justify-between mb-4">
        <div>
          <h2 class="text-2xl font-bold ds-section-heading">Etkileşimli Kontroller</h2>
          <p class="text-sm text-text-secondary mt-1">@theme'deki tum CSS degiskenleri. Bir degeri degistirin, sayfanin guncellenmesini izleyin.</p>
        </div>
        <button id="reset-all-btn" class="px-4 py-2 text-xs font-semibold border border-error-500 text-error-500 hover:bg-error-50 rounded-md transition-colors">Tümünü Sıfırla</button>
      </div>

      <!-- ── Theme Presets ── -->
      <div class="mb-6">
        <p class="text-xs font-semibold text-text-tertiary uppercase tracking-wider mb-2">Hazir Temalar</p>
        <div id="preset-tabs" class="flex flex-wrap gap-2"></div>
      </div>

      <!-- ── Token Search/Filter ── -->
      <div class="mb-4 relative">
        <div class="flex items-center gap-2">
          <div class="relative flex-1">
            <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-tertiary pointer-events-none" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"/></svg>
            <input type="text" id="token-search" placeholder="Token ara... (orn: primary, radius, shadow)" class="w-full pl-9 pr-9 py-2.5 text-sm border border-border-default rounded-lg bg-white dark:bg-secondary-800 dark:border-secondary-600 focus:border-primary-500 focus:outline-none transition-colors" />
            <button id="token-search-clear" class="absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-secondary-200 dark:bg-secondary-600 text-secondary-600 dark:text-secondary-300 flex items-center justify-center text-xs hover:bg-secondary-300 dark:hover:bg-secondary-500 transition-colors hidden" aria-label="Aramayı temizle">&times;</button>
          </div>
          <span id="token-search-count" class="text-xs text-text-tertiary whitespace-nowrap hidden"></span>
        </div>
      </div>

      <div id="controls-container" class="space-y-2"></div>
    </section>

    <!-- ═══════════════════════════════════════════════════
         I-B. COMPONENT CONTROLS (Bileşen Kontrolleri)
         ═══════════════════════════════════════════════════ -->
    <section id="component-controls" class="mb-20">
      <div class="mb-6">
        <h2 class="text-2xl font-bold ds-section-heading">Bileşen Kontrolleri</h2>
        <p class="text-sm text-text-secondary">Her bileşenin stilini ayrı ayrı düzenleyin. Değişiklikler anında önizlemede görünür ve style.css'e kaydedilebilir.</p>
      </div>
      <div id="component-editors" class="space-y-6"></div>
    </section>

    <!-- ═══════════════════════════════════════════════════
         PAGE SECTION CONTROLS
         ═══════════════════════════════════════════════════ -->
    <section id="section-panels" class="mb-20">
      <div class="mb-6">
        <h2 class="text-2xl font-bold ds-section-heading">Sayfa Bolumleri</h2>
        <p class="text-sm text-text-secondary">Her sayfa bölümünün görünümünü ayrı ayrı kontrol edin. Değişiklikler anında önizlemede görünür.</p>
      </div>
      <div id="section-editors" class="space-y-4"></div>
    </section>
  </div><!-- /tab-panel: kontroller -->

  <!-- ══════════ TAB PANEL: Renkler ══════════ -->
  <div data-tab-panel="renkler" style="display:none">
    <!-- ═══════════════════════════════════════════════════
         A. COLOR SYSTEM
         ═══════════════════════════════════════════════════ -->
    <section id="colors" class="mb-20">
      <h2 class="text-2xl font-bold mb-6 ds-section-heading">Renk Sistemi</h2>

      <!-- Primary -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Primary (Amber / Gold)</h3>
      <div class="grid grid-cols-5 sm:grid-cols-11 gap-2 mb-8" id="palette-primary"></div>

      <!-- Secondary -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Secondary (Near-Black)</h3>
      <div class="grid grid-cols-5 sm:grid-cols-11 gap-2 mb-8" id="palette-secondary"></div>

      <!-- Accent -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Accent (Cyan)</h3>
      <div class="grid grid-cols-5 sm:grid-cols-11 gap-2 mb-8" id="palette-accent"></div>

      <!-- Semantic -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Anlamsal Renkler</h3>
      <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8">
        <div>
          <p class="text-xs font-semibold mb-2">Success</p>
          <div class="flex gap-2">
            <div class="ds-swatch w-12 h-12 rounded-md" style="background:var(--color-success-50)" data-var="--color-success-50"><span class="ds-copied">Copied</span></div>
            <div class="ds-swatch w-12 h-12 rounded-md" style="background:var(--color-success-500)" data-var="--color-success-500"><span class="ds-copied">Copied</span></div>
            <div class="ds-swatch w-12 h-12 rounded-md" style="background:var(--color-success-700)" data-var="--color-success-700"><span class="ds-copied">Copied</span></div>
          </div>
        </div>
        <div>
          <p class="text-xs font-semibold mb-2">Warning</p>
          <div class="flex gap-2">
            <div class="ds-swatch w-12 h-12 rounded-md" style="background:var(--color-warning-50)" data-var="--color-warning-50"><span class="ds-copied">Copied</span></div>
            <div class="ds-swatch w-12 h-12 rounded-md" style="background:var(--color-warning-500)" data-var="--color-warning-500"><span class="ds-copied">Copied</span></div>
            <div class="ds-swatch w-12 h-12 rounded-md" style="background:var(--color-warning-700)" data-var="--color-warning-700"><span class="ds-copied">Copied</span></div>
          </div>
        </div>
        <div>
          <p class="text-xs font-semibold mb-2">Error</p>
          <div class="flex gap-2">
            <div class="ds-swatch w-12 h-12 rounded-md" style="background:var(--color-error-50)" data-var="--color-error-50"><span class="ds-copied">Copied</span></div>
            <div class="ds-swatch w-12 h-12 rounded-md" style="background:var(--color-error-500)" data-var="--color-error-500"><span class="ds-copied">Copied</span></div>
            <div class="ds-swatch w-12 h-12 rounded-md" style="background:var(--color-error-700)" data-var="--color-error-700"><span class="ds-copied">Copied</span></div>
          </div>
        </div>
        <div>
          <p class="text-xs font-semibold mb-2">Info</p>
          <div class="flex gap-2">
            <div class="ds-swatch w-12 h-12 rounded-md" style="background:var(--color-info-50)" data-var="--color-info-50"><span class="ds-copied">Copied</span></div>
            <div class="ds-swatch w-12 h-12 rounded-md" style="background:var(--color-info-500)" data-var="--color-info-500"><span class="ds-copied">Copied</span></div>
            <div class="ds-swatch w-12 h-12 rounded-md" style="background:var(--color-info-700)" data-var="--color-info-700"><span class="ds-copied">Copied</span></div>
          </div>
        </div>
      </div>

      <!-- Surface -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Yuzey Renkleri</h3>
      <div class="flex flex-wrap gap-3 mb-8">
        <div class="ds-swatch w-20 h-20 rounded-md border border-border-default flex flex-col items-center justify-center" style="background:var(--color-surface)" data-var="--color-surface">
          <span class="text-[10px] font-mono">surface</span><span class="ds-copied">Copied</span>
        </div>
        <div class="ds-swatch w-20 h-20 rounded-md border border-border-default flex flex-col items-center justify-center" style="background:var(--color-surface-muted)" data-var="--color-surface-muted">
          <span class="text-[10px] font-mono">muted</span><span class="ds-copied">Copied</span>
        </div>
        <div class="ds-swatch w-20 h-20 rounded-md border border-border-default flex flex-col items-center justify-center" style="background:var(--color-surface-raised)" data-var="--color-surface-raised">
          <span class="text-[10px] font-mono">raised</span><span class="ds-copied">Copied</span>
        </div>
        <div class="ds-swatch w-20 h-20 rounded-md border border-border-default flex flex-col items-center justify-center" style="background:var(--color-surface-inverse)" data-var="--color-surface-inverse">
          <span class="text-[10px] font-mono text-white">inverse</span><span class="ds-copied">Copied</span>
        </div>
      </div>

      <!-- Text Colors -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Yazi Renkleri</h3>
      <div class="flex flex-wrap gap-4 mb-8">
        <div class="ds-swatch px-4 py-2 rounded-md border border-border-default" data-var="--color-text-primary">
          <span style="color:var(--color-text-primary)" class="font-semibold text-sm">Primary</span><span class="ds-copied">Copied</span>
        </div>
        <div class="ds-swatch px-4 py-2 rounded-md border border-border-default" data-var="--color-text-secondary">
          <span style="color:var(--color-text-secondary)" class="font-semibold text-sm">Secondary</span><span class="ds-copied">Copied</span>
        </div>
        <div class="ds-swatch px-4 py-2 rounded-md border border-border-default" data-var="--color-text-tertiary">
          <span style="color:var(--color-text-tertiary)" class="font-semibold text-sm">Tertiary</span><span class="ds-copied">Copied</span>
        </div>
        <div class="ds-swatch px-4 py-2 rounded-md border border-border-default" data-var="--color-text-disabled">
          <span style="color:var(--color-text-disabled)" class="font-semibold text-sm">Disabled</span><span class="ds-copied">Copied</span>
        </div>
        <div class="ds-swatch px-4 py-2 rounded-md border border-border-default" data-var="--color-text-link">
          <span style="color:var(--color-text-link)" class="font-semibold text-sm">Link</span><span class="ds-copied">Copied</span>
        </div>
      </div>

      <!-- Border Colors -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Kenar Renkleri</h3>
      <div class="flex flex-wrap gap-4 mb-4">
        <div class="ds-swatch w-24 h-16 rounded-md flex items-center justify-center" style="border:3px solid var(--color-border-default)" data-var="--color-border-default">
          <span class="text-xs font-mono">default</span><span class="ds-copied">Copied</span>
        </div>
        <div class="ds-swatch w-24 h-16 rounded-md flex items-center justify-center" style="border:3px solid var(--color-border-strong)" data-var="--color-border-strong">
          <span class="text-xs font-mono">strong</span><span class="ds-copied">Copied</span>
        </div>
        <div class="ds-swatch w-24 h-16 rounded-md flex items-center justify-center" style="border:3px solid var(--color-border-focus)" data-var="--color-border-focus">
          <span class="text-xs font-mono">focus</span><span class="ds-copied">Copied</span>
        </div>
        <div class="ds-swatch w-24 h-16 rounded-md flex items-center justify-center" style="border:3px solid var(--color-border-error)" data-var="--color-border-error">
          <span class="text-xs font-mono">error</span><span class="ds-copied">Copied</span>
        </div>
      </div>
    </section>
  </div><!-- /tab-panel: renkler -->

  <!-- ══════════ TAB PANEL: Tipografi ══════════ -->
  <div data-tab-panel="tipografi" style="display:none">
    <!-- ═══════════════════════════════════════════════════
         B. TYPOGRAPHY
         ═══════════════════════════════════════════════════ -->
    <section id="typography" class="mb-20">
      <h2 class="text-2xl font-bold mb-6 ds-section-heading">Tipografi</h2>

      <!-- Font Sizes -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Yazı Boyutları</h3>
      <div class="space-y-4 mb-10 border border-border-default rounded-lg p-5 bg-white dark:bg-secondary-900">
        <div class="flex items-baseline gap-4"><span class="text-xs text-text-tertiary w-24 flex-shrink-0 font-mono">xs (12px)</span><span class="text-xs">The quick brown fox jumps over the lazy dog</span></div>
        <div class="flex items-baseline gap-4"><span class="text-xs text-text-tertiary w-24 flex-shrink-0 font-mono">sm (14px)</span><span class="text-sm">The quick brown fox jumps over the lazy dog</span></div>
        <div class="flex items-baseline gap-4"><span class="text-xs text-text-tertiary w-24 flex-shrink-0 font-mono">base (18px)</span><span class="text-base">The quick brown fox jumps over the lazy dog</span></div>
        <div class="flex items-baseline gap-4"><span class="text-xs text-text-tertiary w-24 flex-shrink-0 font-mono">lg (20px)</span><span class="text-lg">The quick brown fox jumps over the lazy dog</span></div>
        <div class="flex items-baseline gap-4"><span class="text-xs text-text-tertiary w-24 flex-shrink-0 font-mono">xl (24px)</span><span class="text-xl">The quick brown fox jumps over the lazy dog</span></div>
        <div class="flex items-baseline gap-4"><span class="text-xs text-text-tertiary w-24 flex-shrink-0 font-mono">2xl (30px)</span><span class="text-2xl">The quick brown fox jumps</span></div>
        <div class="flex items-baseline gap-4"><span class="text-xs text-text-tertiary w-24 flex-shrink-0 font-mono">3xl (36px)</span><span class="text-3xl">The quick brown fox</span></div>
        <div class="flex items-baseline gap-4"><span class="text-xs text-text-tertiary w-24 flex-shrink-0 font-mono">4xl (48px)</span><span class="text-4xl">Quick brown fox</span></div>
        <div class="flex items-baseline gap-4"><span class="text-xs text-text-tertiary w-24 flex-shrink-0 font-mono">5xl (60px)</span><span class="text-5xl">Headlines</span></div>
      </div>

      <!-- Font Weights -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Yazı Ağırlıkları</h3>
      <div class="space-y-3 mb-10 border border-border-default rounded-lg p-5 bg-white dark:bg-secondary-900">
        <p class="text-xl font-normal">Normal (400) &mdash; The quick brown fox jumps over the lazy dog</p>
        <p class="text-xl font-medium">Medium (500) &mdash; The quick brown fox jumps over the lazy dog</p>
        <p class="text-xl font-semibold">Semibold (600) &mdash; The quick brown fox jumps over the lazy dog</p>
        <p class="text-xl font-bold">Bold (700) &mdash; The quick brown fox jumps over the lazy dog</p>
        <p class="text-xl font-black">Black (900) &mdash; The quick brown fox jumps over the lazy dog</p>
      </div>

      <!-- Line Heights -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Satır Yükseklikleri</h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-10">
        <div class="border border-border-default rounded-lg p-4 bg-white dark:bg-secondary-900">
          <p class="text-xs font-mono text-text-tertiary mb-2">tight (1.25)</p>
          <p class="leading-tight">Line height tight is used for headings like h1 through h3 where text is large.</p>
        </div>
        <div class="border border-border-default rounded-lg p-4 bg-white dark:bg-secondary-900">
          <p class="text-xs font-mono text-text-tertiary mb-2">snug (1.375)</p>
          <p class="leading-snug">Line height snug is used for subtitles and h4 through h6 headings.</p>
        </div>
        <div class="border border-border-default rounded-lg p-4 bg-white dark:bg-secondary-900">
          <p class="text-xs font-mono text-text-tertiary mb-2">normal (1.625)</p>
          <p class="leading-normal">Line height normal is the default body text setting for comfortable reading.</p>
        </div>
        <div class="border border-border-default rounded-lg p-4 bg-white dark:bg-secondary-900">
          <p class="text-xs font-mono text-text-tertiary mb-2">relaxed (1.75)</p>
          <p class="leading-relaxed">Line height relaxed is used for large text blocks that need extra breathing room.</p>
        </div>
        <div class="border border-border-default rounded-lg p-4 bg-white dark:bg-secondary-900">
          <p class="text-xs font-mono text-text-tertiary mb-2">loose (2.0)</p>
          <p class="leading-loose">Line height loose is designed for accessibility and maximum readability.</p>
        </div>
      </div>

      <!-- Letter Spacing -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Harf Aralığı</h3>
      <div class="space-y-3 mb-4 border border-border-default rounded-lg p-5 bg-white dark:bg-secondary-900">
        <p class="text-lg tracking-tighter"><span class="text-xs font-mono text-text-tertiary inline-block w-28">tighter -0.03em</span> The quick brown fox</p>
        <p class="text-lg tracking-tight"><span class="text-xs font-mono text-text-tertiary inline-block w-28">tight -0.015em</span> The quick brown fox</p>
        <p class="text-lg tracking-normal"><span class="text-xs font-mono text-text-tertiary inline-block w-28">normal 0em</span> The quick brown fox</p>
        <p class="text-lg tracking-wide"><span class="text-xs font-mono text-text-tertiary inline-block w-28">wide 0.025em</span> THE QUICK BROWN FOX</p>
        <p class="text-lg tracking-wider"><span class="text-xs font-mono text-text-tertiary inline-block w-28">wider 0.05em</span> THE QUICK BROWN FOX</p>
      </div>
    </section>
  </div><!-- /tab-panel: tipografi -->

  <!-- ══════════ TAB PANEL: Duzen ══════════ -->
  <div data-tab-panel="duzen" style="display:none">
    <!-- ═══════════════════════════════════════════════════
         C. SPACING & SIZING
         ═══════════════════════════════════════════════════ -->
    <section id="spacing" class="mb-20">
      <h2 class="text-2xl font-bold mb-6 ds-section-heading">Boşluk & Boyutlandırma</h2>

      <h3 class="text-base font-semibold mb-3 text-text-secondary">Temel Ölçek</h3>
      <div class="space-y-2 mb-10" id="spacing-bars"></div>

      <h3 class="text-base font-semibold mb-3 text-text-secondary">Anlamsal Boşluk</h3>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3" id="semantic-spacing"></div>
    </section>

    <!-- ═══════════════════════════════════════════════════
         D. BORDER & RADIUS
         ═══════════════════════════════════════════════════ -->
    <section id="radius" class="mb-20">
      <h2 class="text-2xl font-bold mb-6 ds-section-heading">Kenar & Radius</h2>

      <h3 class="text-base font-semibold mb-3 text-text-secondary">Temel Radius</h3>
      <div class="flex flex-wrap gap-5 mb-10">
        <div class="flex flex-col items-center gap-2">
          <div class="w-20 h-20 bg-primary-100 border-2 border-primary-400" style="border-radius:var(--radius-none)"></div>
          <span class="text-xs font-mono text-text-tertiary">none (0)</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="w-20 h-20 bg-primary-100 border-2 border-primary-400" style="border-radius:var(--radius-sm)"></div>
          <span class="text-xs font-mono text-text-tertiary">sm (4px)</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="w-20 h-20 bg-primary-100 border-2 border-primary-400" style="border-radius:var(--radius-md)"></div>
          <span class="text-xs font-mono text-text-tertiary">md (8px)</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="w-20 h-20 bg-primary-100 border-2 border-primary-400" style="border-radius:var(--radius-lg)"></div>
          <span class="text-xs font-mono text-text-tertiary">lg (16px)</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="w-20 h-20 bg-primary-100 border-2 border-primary-400" style="border-radius:var(--radius-xl)"></div>
          <span class="text-xs font-mono text-text-tertiary">xl (32px)</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="w-20 h-20 bg-primary-100 border-2 border-primary-400" style="border-radius:var(--radius-full)"></div>
          <span class="text-xs font-mono text-text-tertiary">full (pill)</span>
        </div>
      </div>

      <h3 class="text-base font-semibold mb-3 text-text-secondary">Anlamsal Radius</h3>
      <div class="flex flex-wrap gap-5">
        <div class="flex flex-col items-center gap-2">
          <div class="w-28 h-10 bg-primary-500 text-white text-xs font-semibold flex items-center justify-center" style="border-radius:var(--radius-button)">Button</div>
          <span class="text-xs font-mono text-text-tertiary">button</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="w-28 h-20 bg-surface-raised border border-border-default flex items-center justify-center text-xs" style="border-radius:var(--radius-card)">Card</div>
          <span class="text-xs font-mono text-text-tertiary">card</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <input type="text" value="Input" class="w-28 h-10 border border-border-default px-3 text-xs" style="border-radius:var(--radius-input)" readonly />
          <span class="text-xs font-mono text-text-tertiary">input</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <span class="inline-flex px-4 py-1 bg-primary-100 text-primary-800 text-xs font-semibold" style="border-radius:var(--radius-badge)">Badge</span>
          <span class="text-xs font-mono text-text-tertiary">badge (pill)</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="w-28 h-20 bg-white border border-border-default shadow-lg flex items-center justify-center text-xs" style="border-radius:var(--radius-modal)">Modal</div>
          <span class="text-xs font-mono text-text-tertiary">modal</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="w-28 h-10 bg-secondary-800 text-white text-xs flex items-center justify-center" style="border-radius:var(--radius-tooltip)">Tooltip</div>
          <span class="text-xs font-mono text-text-tertiary">tooltip</span>
        </div>
      </div>
    </section>
  </div><!-- /tab-panel: duzen -->

  <!-- ══════════ TAB PANEL: Efektler ══════════ -->
  <div data-tab-panel="efektler" style="display:none">
    <!-- ═══════════════════════════════════════════════════
         E. SHADOWS
         ═══════════════════════════════════════════════════ -->
    <section id="shadows" class="mb-20">
      <h2 class="text-2xl font-bold mb-6 ds-section-heading">Gölgeler & Yükseklik</h2>

      <h3 class="text-base font-semibold mb-3 text-text-secondary">Temel Gölgeler</h3>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-10">
        <div class="bg-white dark:bg-secondary-800 rounded-lg p-6 flex flex-col items-center justify-center h-32 shadow-sm">
          <span class="text-sm font-semibold">sm</span>
          <span class="text-xs text-text-tertiary">--shadow-sm</span>
        </div>
        <div class="bg-white dark:bg-secondary-800 rounded-lg p-6 flex flex-col items-center justify-center h-32 shadow-md">
          <span class="text-sm font-semibold">md</span>
          <span class="text-xs text-text-tertiary">--shadow-md</span>
        </div>
        <div class="bg-white dark:bg-secondary-800 rounded-lg p-6 flex flex-col items-center justify-center h-32 shadow-lg">
          <span class="text-sm font-semibold">lg</span>
          <span class="text-xs text-text-tertiary">--shadow-lg</span>
        </div>
        <div class="bg-white dark:bg-secondary-800 rounded-lg p-6 flex flex-col items-center justify-center h-32 shadow-xl">
          <span class="text-sm font-semibold">xl</span>
          <span class="text-xs text-text-tertiary">--shadow-xl</span>
        </div>
      </div>

      <h3 class="text-base font-semibold mb-3 text-text-secondary">Anlamsal Gölgeler</h3>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        <div class="bg-white dark:bg-secondary-800 rounded-lg p-6 flex flex-col items-center justify-center h-32" style="box-shadow:var(--shadow-card)">
          <span class="text-sm font-semibold">Card</span>
          <span class="text-xs text-text-tertiary">--shadow-card</span>
        </div>
        <div class="bg-white dark:bg-secondary-800 rounded-lg p-6 flex flex-col items-center justify-center h-32" style="box-shadow:var(--shadow-dropdown)">
          <span class="text-sm font-semibold">Dropdown</span>
          <span class="text-xs text-text-tertiary">--shadow-dropdown</span>
        </div>
        <div class="bg-white dark:bg-secondary-800 rounded-lg p-6 flex flex-col items-center justify-center h-32" style="box-shadow:var(--shadow-modal)">
          <span class="text-sm font-semibold">Modal</span>
          <span class="text-xs text-text-tertiary">--shadow-modal</span>
        </div>
        <div class="bg-white dark:bg-secondary-800 rounded-lg p-6 flex flex-col items-center justify-center h-32" style="box-shadow:var(--shadow-toast)">
          <span class="text-sm font-semibold">Toast</span>
          <span class="text-xs text-text-tertiary">--shadow-toast</span>
        </div>
      </div>
    </section>

    <!-- ═══════════════════════════════════════════════════
         F. Z-INDEX
         ═══════════════════════════════════════════════════ -->
    <section id="z-index" class="mb-20">
      <h2 class="text-2xl font-bold mb-6 ds-section-heading">Z-Index Ölçeği</h2>
      <div class="space-y-1 max-w-xl" id="z-index-stack"></div>
    </section>

    <!-- ═══════════════════════════════════════════════════
         G. MOTION
         ═══════════════════════════════════════════════════ -->
    <section id="motion" class="mb-20">
      <h2 class="text-2xl font-bold mb-6 ds-section-heading">Hareket & Geçişler</h2>

      <h3 class="text-base font-semibold mb-3 text-text-secondary">Sureler (onizleme icin uzerine gelin)</h3>
      <div class="flex flex-wrap gap-6 mb-10">
        <div class="flex flex-col items-center gap-2">
          <div class="ds-motion-box bg-primary-200 hover:bg-primary-500 hover:scale-110" style="transition:all var(--duration-fast) var(--ease-default)"></div>
          <span class="text-xs font-mono text-text-tertiary">fast (100ms)</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="ds-motion-box bg-primary-200 hover:bg-primary-500 hover:scale-110" style="transition:all var(--duration-default) var(--ease-default)"></div>
          <span class="text-xs font-mono text-text-tertiary">default (200ms)</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="ds-motion-box bg-primary-200 hover:bg-primary-500 hover:scale-110" style="transition:all var(--duration-slow) var(--ease-default)"></div>
          <span class="text-xs font-mono text-text-tertiary">slow (300ms)</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="ds-motion-box bg-primary-200 hover:bg-primary-500 hover:scale-110" style="transition:all var(--duration-slower) var(--ease-default)"></div>
          <span class="text-xs font-mono text-text-tertiary">slower (500ms)</span>
        </div>
      </div>

      <h3 class="text-base font-semibold mb-3 text-text-secondary">Hizlanma Fonksiyonlari (onizleme icin uzerine gelin)</h3>
      <div class="flex flex-wrap gap-6 mb-10">
        <div class="flex flex-col items-center gap-2">
          <div class="ds-motion-box bg-accent-200 hover:bg-accent-500 hover:translate-x-4" style="transition:all 400ms var(--ease-default)"></div>
          <span class="text-xs font-mono text-text-tertiary">ease-in-out</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="ds-motion-box bg-accent-200 hover:bg-accent-500 hover:translate-x-4" style="transition:all 400ms var(--ease-in)"></div>
          <span class="text-xs font-mono text-text-tertiary">ease-in</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div class="ds-motion-box bg-accent-200 hover:bg-accent-500 hover:translate-x-4" style="transition:all 400ms var(--ease-out)"></div>
          <span class="text-xs font-mono text-text-tertiary">ease-out</span>
        </div>
      </div>

      <h3 class="text-base font-semibold mb-3 text-text-secondary">Solma Animasyonlari (tekrar icin tiklayin)</h3>
      <div class="flex gap-6">
        <div class="flex flex-col items-center gap-2">
          <div id="fade-in-demo" class="ds-motion-box bg-primary-500 rounded-lg cursor-pointer" style="animation:var(--animate-fade-in)"></div>
          <span class="text-xs font-mono text-text-tertiary">fade-in</span>
        </div>
        <div class="flex flex-col items-center gap-2">
          <div id="fade-out-demo" class="ds-motion-box bg-primary-500 rounded-lg cursor-pointer" style="animation:var(--animate-fade-out)"></div>
          <span class="text-xs font-mono text-text-tertiary">fade-out</span>
        </div>
      </div>
    </section>
  </div><!-- /tab-panel: efektler -->

  <!-- ══════════ TAB PANEL: Onizleme ══════════ -->
  <div data-tab-panel="onizleme" style="display:none">
    <!-- ═══════════════════════════════════════════════════
         H. LIVE COMPONENT PREVIEWS
         ═══════════════════════════════════════════════════ -->
    <section id="components" class="mb-20">
      <h2 class="text-2xl font-bold mb-6 ds-section-heading">Bileşen Önizlemeleri</h2>

      <!-- Buttons -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Butonlar</h3>
      <div class="flex flex-wrap items-center gap-3 mb-8 p-5 border border-border-default rounded-lg bg-white dark:bg-secondary-900">
        <button class="comp-btn transition-all">Primary</button>
        <button class="comp-btn transition-all" style="background:var(--color-secondary-700)">Secondary</button>
        <button class="comp-btn-outline transition-all">Outline</button>
        <button class="comp-btn comp-btn-sm transition-all">Small</button>
        <button class="comp-btn comp-btn-lg transition-all">Large</button>
        <button class="comp-btn transition-all opacity-50 cursor-not-allowed" disabled>Disabled</button>
        <button class="comp-btn transition-all" style="border-radius:var(--radius-full)">Pill Button</button>
      </div>

      <!-- Cards / Ürün Kartları -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Ürün Kartları</h3>
      <div class="grid grid-cols-2 lg:grid-cols-4 mb-8" style="gap:var(--spacing-card-gap)">
        <!-- Tools -->
        <div class="comp-card overflow-hidden flex flex-col" style="padding:0">
          <div class="relative w-full overflow-hidden" style="aspect-ratio:1/1; border-radius:var(--radius-card) var(--radius-card) 0 0; background:linear-gradient(180deg, #f1f5f9 0%, #e2e8f0 100%);">
            <div class="absolute -right-4 -top-4 h-12 w-12 rounded-full opacity-50" style="background:rgba(100,116,139,0.3)"></div>
            <div class="absolute -left-3 bottom-1 h-10 w-10 rounded-full opacity-40" style="background:rgba(100,116,139,0.3)"></div>
            <div class="absolute inset-0 flex items-center justify-center">
              <svg class="h-14 w-14" fill="none" stroke-width="1.4" viewBox="0 0 24 24" style="stroke:#475569"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76Z"/></svg>
            </div>
            <div class="absolute top-2 left-2 z-10 flex h-6 w-6 items-center justify-center rounded-full opacity-60" style="background:rgba(0,0,0,0.4); color:#fff">
              <svg class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M3 9a2 2 0 0 1 2-2h2l1-2h8l1 2h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/><circle cx="12" cy="13" r="3"/></svg>
            </div>
          </div>
          <div class="flex flex-1 flex-col" style="padding:var(--spacing-card-padding)">
            <h4 class="comp-card-title line-clamp-2 leading-[1.35]" style="height:2.7em">Professional Cordless Electric Screwdriver Set 48pcs</h4>
            <div class="mt-1.5" style="height:16px"></div>
            <p class="mt-2 leading-none" style="color:var(--card-price-color); font-size:var(--card-price-size); font-weight:var(--card-price-weight)">$6.80-9.50</p>
            <p class="mt-1.5 leading-none" style="color:var(--card-moq-color); font-size:var(--card-moq-size)">MOQ: 5 pieces &nbsp; 2,150 sold</p>
            <div class="mt-auto pt-2" style="height:18px">
              <p class="leading-none" style="color:var(--card-supplier-color); font-size:var(--card-supplier-size)">8 yrs &middot; CN</p>
            </div>
          </div>
        </div>
        <!-- Jewelry -->
        <div class="comp-card overflow-hidden flex flex-col" style="padding:0">
          <div class="relative w-full overflow-hidden" style="aspect-ratio:1/1; border-radius:var(--radius-card) var(--radius-card) 0 0; background:linear-gradient(180deg, #fef9e7 0%, #fdf0c3 100%);">
            <div class="absolute -right-4 -top-4 h-12 w-12 rounded-full opacity-50" style="background:rgba(230,178,18,0.3)"></div>
            <div class="absolute -left-3 bottom-1 h-10 w-10 rounded-full opacity-40" style="background:rgba(230,178,18,0.3)"></div>
            <div class="absolute inset-0 flex items-center justify-center">
              <svg class="h-14 w-14" fill="none" stroke-width="1.4" viewBox="0 0 24 24" style="stroke:#8a6800"><path d="M12 2l2.5 5.5L20 9l-4 4 1 5.5L12 16l-5 2.5 1-5.5-4-4 5.5-1.5Z"/><circle cx="12" cy="10" r="2"/></svg>
            </div>
            <div class="absolute top-2 left-2 z-10 flex h-6 w-6 items-center justify-center rounded-full opacity-60" style="background:rgba(0,0,0,0.4); color:#fff">
              <svg class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M3 9a2 2 0 0 1 2-2h2l1-2h8l1 2h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/><circle cx="12" cy="13" r="3"/></svg>
            </div>
          </div>
          <div class="flex flex-1 flex-col" style="padding:var(--spacing-card-padding)">
            <h4 class="comp-card-title line-clamp-2 leading-[1.35]" style="height:2.7em">Custom Gold Plated Stainless Steel Necklace Pendant</h4>
            <div class="mt-1.5" style="height:16px">
              <div class="inline-flex w-fit items-center gap-1 px-1.5 py-0.5 font-semibold leading-none" style="background:var(--card-badge-bg); color:var(--card-badge-text); font-size:var(--card-badge-size); border-radius:var(--card-badge-radius);">
                <svg class="h-3 w-3 flex-shrink-0" viewBox="0 0 16 16" fill="currentColor"><path d="M9 1L3 9h4v6l6-8H9V1Z"/></svg>
                <span>180-day lowest</span>
              </div>
            </div>
            <p class="mt-2 leading-none" style="color:var(--card-price-color); font-size:var(--card-price-size); font-weight:var(--card-price-weight)">$1.80-2</p>
            <p class="mt-1.5 leading-none" style="color:var(--card-moq-color); font-size:var(--card-moq-size)">MOQ: 3 pcs &nbsp; 4,056 sold</p>
            <div class="mt-auto pt-2" style="height:18px">
              <div class="inline-flex w-fit items-center gap-1 font-medium leading-none" style="color:var(--card-verified-color); font-size:var(--card-verified-size);">
                <svg class="h-3.5 w-3.5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z" clip-rule="evenodd"/></svg>
                <span>Verified</span><span class="opacity-60">&middot;</span><span>5 yrs</span><span class="opacity-60">&middot;</span><span>CN</span>
              </div>
            </div>
          </div>
        </div>
        <!-- Electronics -->
        <div class="comp-card overflow-hidden flex flex-col" style="padding:0">
          <div class="relative w-full overflow-hidden" style="aspect-ratio:1/1; border-radius:var(--radius-card) var(--radius-card) 0 0; background:linear-gradient(180deg, #eef2ff 0%, #dbeafe 100%);">
            <div class="absolute -right-4 -top-4 h-12 w-12 rounded-full opacity-50" style="background:rgba(129,140,248,0.3)"></div>
            <div class="absolute -left-3 bottom-1 h-10 w-10 rounded-full opacity-40" style="background:rgba(129,140,248,0.3)"></div>
            <div class="absolute inset-0 flex items-center justify-center">
              <svg class="h-14 w-14" fill="none" stroke-width="1.4" viewBox="0 0 24 24" style="stroke:#4f5fb3"><rect x="3" y="4" width="18" height="12" rx="2"/><path d="M7 20h10M12 16v4"/><circle cx="12" cy="10" r="2"/></svg>
            </div>
            <div class="absolute top-2 left-2 z-10 flex h-6 w-6 items-center justify-center rounded-full opacity-60" style="background:rgba(0,0,0,0.4); color:#fff">
              <svg class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M3 9a2 2 0 0 1 2-2h2l1-2h8l1 2h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/><circle cx="12" cy="13" r="3"/></svg>
            </div>
          </div>
          <div class="flex flex-1 flex-col" style="padding:var(--spacing-card-padding)">
            <h4 class="comp-card-title line-clamp-2 leading-[1.35]" style="height:2.7em">Smart WiFi Security Camera 1080P Night Vision</h4>
            <div class="mt-1.5" style="height:16px"></div>
            <p class="mt-2 leading-none" style="color:var(--card-price-color); font-size:var(--card-price-size); font-weight:var(--card-price-weight)">$8.50-12</p>
            <p class="mt-1.5 leading-none" style="color:var(--card-moq-color); font-size:var(--card-moq-size)">MOQ: 10 pcs &nbsp; 1,280 sold</p>
            <div class="mt-auto pt-2" style="height:18px">
              <div class="inline-flex w-fit items-center gap-1 font-medium leading-none" style="color:var(--card-verified-color); font-size:var(--card-verified-size);">
                <svg class="h-3.5 w-3.5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z" clip-rule="evenodd"/></svg>
                <span>Verified</span><span class="opacity-60">&middot;</span><span>7 yrs</span><span class="opacity-60">&middot;</span><span>CN</span>
              </div>
            </div>
          </div>
        </div>
        <!-- Clothing -->
        <div class="comp-card overflow-hidden flex flex-col" style="padding:0">
          <div class="relative w-full overflow-hidden" style="aspect-ratio:1/1; border-radius:var(--radius-card) var(--radius-card) 0 0; background:linear-gradient(180deg, #fdf2f8 0%, #fce7f3 100%);">
            <div class="absolute -right-4 -top-4 h-12 w-12 rounded-full opacity-50" style="background:rgba(244,114,182,0.3)"></div>
            <div class="absolute -left-3 bottom-1 h-10 w-10 rounded-full opacity-40" style="background:rgba(244,114,182,0.3)"></div>
            <div class="absolute inset-0 flex items-center justify-center">
              <svg class="h-14 w-14" fill="none" stroke-width="1.4" viewBox="0 0 24 24" style="stroke:#a3456e"><path d="M8 3h8l2 6v12H6V9l2-6Z"/><path d="M12 3v8M8 3 6 9M16 3l2 6"/></svg>
            </div>
            <div class="absolute top-2 left-2 z-10 flex h-6 w-6 items-center justify-center rounded-full opacity-60" style="background:rgba(0,0,0,0.4); color:#fff">
              <svg class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M3 9a2 2 0 0 1 2-2h2l1-2h8l1 2h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/><circle cx="12" cy="13" r="3"/></svg>
            </div>
          </div>
          <div class="flex flex-1 flex-col" style="padding:var(--spacing-card-padding)">
            <h4 class="comp-card-title line-clamp-2 leading-[1.35]" style="height:2.7em">Oversized Cotton Vintage Graphic Print T-Shirt Unisex</h4>
            <div class="mt-1.5" style="height:16px">
              <div class="inline-flex w-fit items-center gap-1 px-1.5 py-0.5 font-semibold leading-none" style="background:var(--card-badge-bg); color:var(--card-badge-text); font-size:var(--card-badge-size); border-radius:var(--card-badge-radius);">
                <svg class="h-3 w-3 flex-shrink-0" viewBox="0 0 16 16" fill="currentColor"><path d="M9 1L3 9h4v6l6-8H9V1Z"/></svg>
                <span>180-day lowest</span>
              </div>
            </div>
            <p class="mt-2 leading-none" style="color:var(--card-price-color); font-size:var(--card-price-size); font-weight:var(--card-price-weight)">$3.20-4.50</p>
            <p class="mt-1.5 leading-none" style="color:var(--card-moq-color); font-size:var(--card-moq-size)">MOQ: 30 pcs &nbsp; 9,450 sold</p>
            <div class="mt-auto pt-2" style="height:18px">
              <div class="inline-flex w-fit items-center gap-1 font-medium leading-none" style="color:var(--card-verified-color); font-size:var(--card-verified-size);">
                <svg class="h-3.5 w-3.5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z" clip-rule="evenodd"/></svg>
                <span>Verified</span><span class="opacity-60">&middot;</span><span>4 yrs</span><span class="opacity-60">&middot;</span><span>CN</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Inputs -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Giris Alanlari</h3>
      <div class="flex flex-wrap gap-4 mb-8 p-5 border border-border-default rounded-lg bg-white dark:bg-secondary-900">
        <input type="text" placeholder="Text input" class="comp-input w-48" />
        <input type="text" placeholder="Error state" class="comp-input w-48" style="border-color:var(--color-error-500);border-width:2px" />
        <input type="text" placeholder="Disabled" class="comp-input w-48 opacity-50 cursor-not-allowed" disabled />
        <select class="comp-input w-48">
          <option>Select option</option>
          <option>Option 1</option>
          <option>Option 2</option>
        </select>
      </div>

      <!-- Badges -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Rozetler & Etiketler</h3>
      <div class="flex flex-wrap gap-3 mb-8 p-5 border border-border-default rounded-lg bg-white dark:bg-secondary-900">
        <span class="comp-badge" style="background:var(--color-primary-100);color:var(--color-primary-800)">Primary</span>
        <span class="comp-badge" style="background:var(--color-accent-100);color:var(--color-accent-800)">Accent</span>
        <span class="comp-badge" style="background:var(--color-success-50);color:var(--color-success-700)">Success</span>
        <span class="comp-badge" style="background:var(--color-warning-50);color:var(--color-warning-700)">Warning</span>
        <span class="comp-badge" style="background:var(--color-error-50);color:var(--color-error-700)">Error</span>
        <span class="comp-badge" style="background:var(--color-info-50);color:var(--color-info-700)">Info</span>
        <span class="comp-badge" style="background:var(--color-secondary-100);color:var(--color-secondary-700)">Neutral</span>
      </div>

      <!-- Alerts -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Uyarilar / Bildirimler</h3>
      <div class="space-y-3 mb-8">
        <div class="flex items-center gap-3 px-4 py-3 bg-success-50 border border-success-500/30 text-success-700 text-sm" style="border-radius:var(--radius-md)">
          <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/></svg>
          <span>Success: Your order has been placed successfully.</span>
        </div>
        <div class="flex items-center gap-3 px-4 py-3 bg-warning-50 border border-warning-500/30 text-warning-700 text-sm" style="border-radius:var(--radius-md)">
          <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"/></svg>
          <span>Warning: Your session will expire in 5 minutes.</span>
        </div>
        <div class="flex items-center gap-3 px-4 py-3 bg-error-50 border border-error-500/30 text-error-700 text-sm" style="border-radius:var(--radius-md)">
          <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"/></svg>
          <span>Error: Payment could not be processed. Please try again.</span>
        </div>
        <div class="flex items-center gap-3 px-4 py-3 bg-info-50 border border-info-500/30 text-info-700 text-sm" style="border-radius:var(--radius-md)">
          <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"/></svg>
          <span>Info: New features are available. Check the changelog.</span>
        </div>
      </div>

      <!-- Mini Header Mockup -->
      <h3 class="text-base font-semibold mb-3 text-text-secondary">Mini Header Maket</h3>
      <div class="border border-border-default rounded-lg overflow-hidden mb-4">
        <div class="header-gradient px-6 py-3 flex items-center justify-between">
          <span class="font-bold text-lg text-primary-700">TradeHub</span>
          <div class="flex items-center gap-3">
            <input type="text" placeholder="Search products..." class="comp-input w-64" style="padding:6px 12px" />
            <button class="comp-btn" style="padding:6px 16px">Search</button>
          </div>
          <div class="flex items-center gap-4">
            <a href="#" class="comp-nav-link">Sign In</a>
            <a href="#" class="comp-nav-link">Cart (0)</a>
          </div>
        </div>
        <div class="bg-white dark:bg-secondary-800 px-6 py-2 border-t border-border-default flex gap-6">
          <a href="#" class="comp-nav-link">All Categories</a>
          <a href="#" class="comp-nav-link">Featured</a>
          <a href="#" class="comp-nav-link">Trade Assurance</a>
          <a href="#" class="comp-nav-link">Buyer Central</a>
          <a href="#" class="comp-nav-link">Help</a>
        </div>
      </div>
    </section>

    <!-- ═══════════════════════════════════════════════════
         J. GRADIENT PREVIEW
         ═══════════════════════════════════════════════════ -->
    <section id="gradient" class="mb-20">
      <h2 class="text-2xl font-bold mb-6 ds-section-heading">Gradyan Önizleme</h2>
      <div class="header-gradient rounded-xl h-48 flex items-center justify-center border border-border-default">
        <p class="text-lg font-semibold text-text-secondary">Animated Header Gradient (desktop only, 960px+)</p>
      </div>
      <p class="text-xs text-text-tertiary mt-2">This is the live .header-gradient class with the searchGradientShift keyframe animation (12s infinite).</p>
    </section>
  </div><!-- /tab-panel: onizleme -->

</div><!-- /max-w wrapper -->

<!-- ═══════════════════════════════════════════════════════
     INLINE JAVASCRIPT
     ═══════════════════════════════════════════════════════ -->
<script type="module">
  const root = document.documentElement;

  // ──── Dark mode toggle ────
  document.getElementById('dark-toggle').addEventListener('click', () => {
    root.classList.toggle('dark');
  });

  // ──── Swatch click → copy variable name ────
  document.querySelectorAll('.ds-swatch').forEach(el => {
    el.addEventListener('click', () => {
      const varName = el.getAttribute('data-var');
      if (!varName) return;
      navigator.clipboard.writeText(varName).then(() => {
        el.classList.add('copied');
        setTimeout(() => el.classList.remove('copied'), 800);
      });
    });
  });

  // ──── Generate color palettes ────
  function buildPalette(containerId, prefix, shades) {
    const container = document.getElementById(containerId);
    if (!container) return;
    shades.forEach(shade => {
      const varName = `--color-${prefix}-${shade}`;
      const value = getComputedStyle(root).getPropertyValue(varName).trim();
      const isLight = [50, 100, 200, 300].includes(shade);
      container.innerHTML += `
        <div class="ds-swatch rounded-lg flex flex-col items-center justify-center p-2 min-h-[72px] border border-black/5" style="background:var(${varName})" data-var="${varName}">
          <span class="text-[10px] font-bold ${isLight ? 'text-gray-800' : 'text-white'}">${shade}</span>
          <span class="text-[9px] font-mono ${isLight ? 'text-gray-600' : 'text-white/70'}">${value}</span>
          <span class="ds-copied">Copied</span>
        </div>
      `;
    });
    // Re-bind click events for new swatches
    container.querySelectorAll('.ds-swatch').forEach(el => {
      el.addEventListener('click', () => {
        const v = el.getAttribute('data-var');
        if (!v) return;
        navigator.clipboard.writeText(v).then(() => {
          el.classList.add('copied');
          setTimeout(() => el.classList.remove('copied'), 800);
        });
      });
    });
  }

  const shades = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 950];
  buildPalette('palette-primary', 'primary', shades);
  buildPalette('palette-secondary', 'secondary', shades);
  buildPalette('palette-accent', 'accent', shades);

  // ──── Generate spacing bars ────
  const spacingTokens = [
    ['0', '0px'], ['0.5', '2px'], ['1', '4px'], ['2', '8px'], ['3', '12px'],
    ['4', '16px'], ['5', '20px'], ['6', '24px'], ['8', '32px'], ['10', '40px'],
    ['12', '48px'], ['16', '64px'], ['20', '80px'], ['24', '96px'], ['32', '128px'],
  ];
  const spacingBars = document.getElementById('spacing-bars');
  if (spacingBars) {
    spacingTokens.forEach(([name, px]) => {
      const pxNum = parseInt(px);
      spacingBars.innerHTML += `
        <div class="flex items-center gap-3">
          <span class="text-xs font-mono text-text-tertiary w-10 text-right flex-shrink-0">${name}</span>
          <div class="ds-spacing-bar bg-primary-400 rounded-sm" style="width:${Math.max(pxNum, 2)}px"></div>
          <span class="text-xs text-text-secondary">${px}</span>
        </div>
      `;
    });
  }

  // ──── Generate semantic spacing ────
  const semanticSpacing = [
    ['card-padding', '24px'], ['card-gap', '16px'], ['section-y', '64px'],
    ['section-y-lg', '96px'], ['page-x', '16px'], ['page-x-lg', '32px'],
    ['stack-sm', '8px'], ['stack-md', '16px'], ['stack-lg', '32px'],
    ['inline-sm', '8px'], ['inline-md', '12px'], ['inline-lg', '24px'],
    ['input-x', '12px'], ['input-y', '8px'], ['button-x', '24px'], ['button-y', '12px'],
  ];
  const semanticContainer = document.getElementById('semantic-spacing');
  if (semanticContainer) {
    semanticSpacing.forEach(([name, px]) => {
      const pxNum = parseInt(px);
      semanticContainer.innerHTML += `
        <div class="flex items-center gap-3 p-2 bg-white dark:bg-secondary-900 border border-border-default rounded-md">
          <div class="ds-spacing-bar bg-accent-400 rounded-sm flex-shrink-0" style="width:${Math.max(pxNum, 2)}px; max-width:120px;"></div>
          <div class="min-w-0">
            <span class="text-xs font-mono font-semibold block truncate">${name}</span>
            <span class="text-[10px] text-text-tertiary">${px}</span>
          </div>
        </div>
      `;
    });
  }

  // ──── Generate z-index stack ────
  const zLayers = [
    ['behind', -1, '#f87171'], ['base', 0, '#fb923c'], ['raised', 1, '#fbbf24'],
    ['dropdown', 10, '#a3e635'], ['sticky', 20, '#34d399'], ['header', 30, '#22d3ee'],
    ['sidebar', 35, '#60a5fa'], ['backdrop', 40, '#818cf8'], ['modal', 50, '#a78bfa'],
    ['popover', 60, '#c084fc'], ['toast', 70, '#e879f9'], ['tooltip', 80, '#f472b6'],
    ['spotlight', 90, '#fb7185'], ['max', 100, '#ef4444'],
  ];
  const zStack = document.getElementById('z-index-stack');
  if (zStack) {
    zLayers.forEach(([name, value, color]) => {
      const widthPercent = ((value + 10) / 110) * 100;
      zStack.innerHTML += `
        <div class="ds-z-layer rounded" style="width:${Math.max(widthPercent, 15)}%; background:${color}15; border-color:${color}40; color:${color.replace('#', '#')}">
          <span class="font-mono text-xs">${name}</span>
          <span class="ml-auto pr-3 text-xs opacity-70">${value}</span>
        </div>
      `;
    });
  }

  // ──── Fade animation replay ────
  function replayAnimation(el, animation) {
    el.style.animation = 'none';
    el.offsetHeight; // trigger reflow
    el.style.animation = animation;
  }
  document.getElementById('fade-in-demo')?.addEventListener('click', function() {
    replayAnimation(this, 'var(--animate-fade-in)');
  });
  document.getElementById('fade-out-demo')?.addEventListener('click', function() {
    replayAnimation(this, 'var(--animate-fade-out)');
  });

  // ══════════════════════════════════════════════
  // THEME PRESETS
  // ══════════════════════════════════════════════

  const themePresets = [
    {
      name: 'Varsayılan',
      desc: 'Fabrika ayarları',
      icon: '↺',
      overrides: {} // empty = use token.default for everything
    },
    {
      name: 'Yuvarlak',
      desc: 'Büyük radius, yumuşak gölgeler',
      icon: '●',
      overrides: {
        '--radius-none': '4px', '--radius-sm': '8px', '--radius-md': '16px',
        '--radius-lg': '24px', '--radius-xl': '48px',
        '--radius-button': '24px', '--radius-card': '24px', '--radius-input': '16px',
        '--radius-modal': '32px', '--radius-tooltip': '12px', '--radius-badge': '9999px',
        '--shadow-sm': '0 2px 8px 0 rgba(0,0,0,0.05)',
        '--shadow-md': '0 4px 16px -2px rgba(0,0,0,0.08)',
        '--shadow-lg': '0 8px 32px -4px rgba(0,0,0,0.10)',
        '--shadow-xl': '0 16px 48px -8px rgba(0,0,0,0.12)',
        '--spacing-card-padding': '28px', '--spacing-card-gap': '20px',
      }
    },
    {
      name: 'Keskin / Düz',
      desc: 'Sıfır radius, düz tasarım',
      icon: '□',
      overrides: {
        '--radius-none': '0px', '--radius-sm': '0px', '--radius-md': '0px',
        '--radius-lg': '0px', '--radius-xl': '0px', '--radius-full': '0px',
        '--radius-button': '0px', '--radius-card': '0px', '--radius-input': '0px',
        '--radius-modal': '0px', '--radius-tooltip': '0px', '--radius-badge': '2px',
        '--shadow-sm': '0 1px 0 0 rgba(0,0,0,0.05)',
        '--shadow-md': '0 1px 2px 0 rgba(0,0,0,0.08)',
        '--shadow-lg': '0 2px 4px 0 rgba(0,0,0,0.10)',
        '--shadow-xl': '0 4px 8px 0 rgba(0,0,0,0.12)',
        '--spacing-card-padding': '20px',
      }
    },
    {
      name: 'Modern',
      desc: 'Temiz, minimal, dengeli',
      icon: '◆',
      overrides: {
        '--radius-sm': '6px', '--radius-md': '12px', '--radius-lg': '16px', '--radius-xl': '24px',
        '--radius-button': '10px', '--radius-card': '16px', '--radius-input': '10px',
        '--radius-modal': '20px', '--radius-tooltip': '8px',
        '--shadow-sm': '0 1px 3px 0 rgba(0,0,0,0.04)',
        '--shadow-md': '0 2px 6px -1px rgba(0,0,0,0.06), 0 4px 12px -2px rgba(0,0,0,0.05)',
        '--shadow-lg': '0 4px 12px -2px rgba(0,0,0,0.06), 0 8px 24px -4px rgba(0,0,0,0.08)',
        '--shadow-xl': '0 8px 24px -4px rgba(0,0,0,0.08), 0 16px 48px -8px rgba(0,0,0,0.10)',
        '--spacing-card-padding': '24px', '--spacing-card-gap': '16px',
        '--spacing-button-x': '20px', '--spacing-button-y': '10px',
        '--color-surface': '#ffffff', '--color-surface-muted': '#f9fafb',
        '--color-surface-raised': '#f3f4f6',
        '--color-border-default': '#e5e7eb',
        '--font-sans': "'Inter', ui-sans-serif, system-ui, sans-serif",
      }
    },
    {
      name: 'Kompakt',
      desc: 'Sıkı aralık, küçük padding',
      icon: '▬',
      overrides: {
        '--spacing-card-padding': '14px', '--spacing-card-gap': '10px',
        '--spacing-section-y': '32px', '--spacing-section-y-lg': '48px',
        '--spacing-page-x': '10px', '--spacing-page-x-lg': '20px',
        '--spacing-stack-sm': '4px', '--spacing-stack-md': '10px', '--spacing-stack-lg': '20px',
        '--spacing-inline-sm': '4px', '--spacing-inline-md': '8px', '--spacing-inline-lg': '16px',
        '--spacing-input-x': '8px', '--spacing-input-y': '6px',
        '--spacing-button-x': '16px', '--spacing-button-y': '8px',
        '--radius-button': '6px', '--radius-card': '8px', '--radius-input': '6px',
        '--radius-modal': '12px',
        '--font-size-base': '1rem', '--font-size-lg': '1.125rem',
      }
    },
    {
      name: 'Ferah',
      desc: 'Geniş aralık, büyük padding',
      icon: '▭',
      overrides: {
        '--spacing-card-padding': '36px', '--spacing-card-gap': '24px',
        '--spacing-section-y': '96px', '--spacing-section-y-lg': '128px',
        '--spacing-page-x': '24px', '--spacing-page-x-lg': '48px',
        '--spacing-stack-sm': '12px', '--spacing-stack-md': '24px', '--spacing-stack-lg': '48px',
        '--spacing-inline-sm': '12px', '--spacing-inline-md': '16px', '--spacing-inline-lg': '32px',
        '--spacing-input-x': '16px', '--spacing-input-y': '12px',
        '--spacing-button-x': '32px', '--spacing-button-y': '16px',
        '--radius-button': '12px', '--radius-card': '20px', '--radius-input': '12px',
        '--radius-modal': '24px',
        '--font-size-base': '1.25rem', '--font-size-lg': '1.375rem',
      }
    },
    {
      name: 'Altın Lüks',
      desc: 'Altın vurgulu, zarif gölgeler',
      icon: '♛',
      overrides: {
        '--color-primary-50': '#fef9e7', '--color-primary-100': '#fdf0c3',
        '--color-primary-200': '#fbe08a', '--color-primary-300': '#f6c94d',
        '--color-primary-400': '#e6b212', '--color-primary-500': '#cc9900',
        '--color-primary-600': '#b38600', '--color-primary-700': '#8a6800',
        '--color-primary-800': '#6b5100', '--color-primary-900': '#4d3a00',
        '--color-primary-950': '#2e2200',
        '--color-surface': '#fffdf7', '--color-surface-muted': '#faf8f2',
        '--color-surface-raised': '#f5f3ec',
        '--color-border-default': '#e8e4d9',
        '--radius-button': '8px', '--radius-card': '16px', '--radius-input': '8px',
        '--radius-modal': '24px',
        '--shadow-sm': '0 1px 3px 0 rgba(180,140,40,0.06)',
        '--shadow-md': '0 2px 8px -1px rgba(180,140,40,0.08), 0 4px 12px -2px rgba(180,140,40,0.06)',
        '--shadow-lg': '0 4px 16px -2px rgba(180,140,40,0.08), 0 12px 32px -4px rgba(180,140,40,0.10)',
        '--shadow-xl': '0 8px 24px -4px rgba(180,140,40,0.10), 0 24px 56px -8px rgba(180,140,40,0.14)',
        '--spacing-card-padding': '28px',
      }
    },
    {
      name: 'Koyu Mod',
      desc: 'Koyu zemin, açık yazı',
      icon: '◐',
      overrides: {
        '--color-surface': '#0f0f0f', '--color-surface-muted': '#171717',
        '--color-surface-raised': '#1e1e1e', '--color-surface-inverse': '#fafafa',
        '--color-text-primary': '#f0f0f0', '--color-text-secondary': '#a0a0a0',
        '--color-text-tertiary': '#666666', '--color-text-disabled': '#444444',
        '--color-text-inverse': '#0a0a0a',
        '--color-border-default': '#2a2a2a', '--color-border-strong': '#555555',
        '--color-primary-50': '#2e2200', '--color-primary-100': '#4d3a00',
        '--color-primary-200': '#6b5100', '--color-primary-300': '#8a6800',
        '--color-primary-400': '#b38600', '--color-primary-500': '#cc9900',
        '--color-primary-600': '#e6b212', '--color-primary-700': '#f6c94d',
        '--color-primary-800': '#fbe08a', '--color-primary-900': '#fdf0c3',
        '--color-primary-950': '#fef9e7',
        '--radius-button': '8px', '--radius-card': '12px', '--radius-input': '8px',
        '--shadow-sm': '0 1px 3px 0 rgba(0,0,0,0.3)',
        '--shadow-md': '0 2px 8px -1px rgba(0,0,0,0.4)',
        '--shadow-lg': '0 4px 16px -2px rgba(0,0,0,0.5)',
        '--shadow-xl': '0 8px 32px -4px rgba(0,0,0,0.6)',
      }
    },
    {
      name: 'Mavi Kurumsal',
      desc: 'Mavi vurgulu, profesyonel',
      icon: '■',
      overrides: {
        '--color-primary-50': '#eff6ff', '--color-primary-100': '#dbeafe',
        '--color-primary-200': '#bfdbfe', '--color-primary-300': '#93c5fd',
        '--color-primary-400': '#60a5fa', '--color-primary-500': '#3b82f6',
        '--color-primary-600': '#2563eb', '--color-primary-700': '#1d4ed8',
        '--color-primary-800': '#1e40af', '--color-primary-900': '#1e3a8a',
        '--color-primary-950': '#172554',
        '--color-text-link': '#3b82f6', '--color-text-link-hover': '#2563eb',
        '--color-border-focus': '#3b82f6',
        '--radius-button': '6px', '--radius-card': '8px', '--radius-input': '6px',
        '--radius-modal': '12px', '--radius-tooltip': '4px', '--radius-badge': '9999px',
        '--shadow-sm': '0 1px 2px 0 rgba(0,0,0,0.04), 0 1px 3px 0 rgba(0,0,0,0.06)',
        '--shadow-md': '0 2px 4px -1px rgba(0,0,0,0.04), 0 4px 8px -1px rgba(0,0,0,0.08)',
        '--spacing-card-padding': '24px',
        '--font-sans': "'Source Sans 3', ui-sans-serif, system-ui, sans-serif",
      }
    },
  ];

  // ══════════════════════════════════════════════
  // INTERACTIVE CONTROLS — auto-generated for ALL @theme variables
  // ══════════════════════════════════════════════

  const tokenGroups = [
    {
      name: 'Primary Colors', collapsed: false, tokens: [
        { var: '--color-primary-50', type: 'color', default: '#fef9e7' },
        { var: '--color-primary-100', type: 'color', default: '#fdf0c3' },
        { var: '--color-primary-200', type: 'color', default: '#fbe08a' },
        { var: '--color-primary-300', type: 'color', default: '#f6c94d' },
        { var: '--color-primary-400', type: 'color', default: '#e6b212' },
        { var: '--color-primary-500', type: 'color', default: '#cc9900' },
        { var: '--color-primary-600', type: 'color', default: '#b38600' },
        { var: '--color-primary-700', type: 'color', default: '#8a6800' },
        { var: '--color-primary-800', type: 'color', default: '#6b5100' },
        { var: '--color-primary-900', type: 'color', default: '#4d3a00' },
        { var: '--color-primary-950', type: 'color', default: '#2e2200' },
      ]
    },
    {
      name: 'Secondary Colors', collapsed: true, tokens: [
        { var: '--color-secondary-50', type: 'color', default: '#f5f5f5' },
        { var: '--color-secondary-100', type: 'color', default: '#e5e5e5' },
        { var: '--color-secondary-200', type: 'color', default: '#cccccc' },
        { var: '--color-secondary-300', type: 'color', default: '#a3a3a3' },
        { var: '--color-secondary-400', type: 'color', default: '#737373' },
        { var: '--color-secondary-500', type: 'color', default: '#525252' },
        { var: '--color-secondary-600', type: 'color', default: '#333333' },
        { var: '--color-secondary-700', type: 'color', default: '#1f1f1f' },
        { var: '--color-secondary-800', type: 'color', default: '#141414' },
        { var: '--color-secondary-900', type: 'color', default: '#0a0a0a' },
        { var: '--color-secondary-950', type: 'color', default: '#050505' },
      ]
    },
    {
      name: 'Accent Colors', collapsed: true, tokens: [
        { var: '--color-accent-50', type: 'color', default: '#ecfeff' },
        { var: '--color-accent-100', type: 'color', default: '#cffafe' },
        { var: '--color-accent-200', type: 'color', default: '#a5f3fc' },
        { var: '--color-accent-300', type: 'color', default: '#67e8f9' },
        { var: '--color-accent-400', type: 'color', default: '#22d3ee' },
        { var: '--color-accent-500', type: 'color', default: '#06b6d4' },
        { var: '--color-accent-600', type: 'color', default: '#0891b2' },
        { var: '--color-accent-700', type: 'color', default: '#0e7490' },
        { var: '--color-accent-800', type: 'color', default: '#155e75' },
        { var: '--color-accent-900', type: 'color', default: '#164e63' },
        { var: '--color-accent-950', type: 'color', default: '#083344' },
      ]
    },
    {
      name: 'Semantic Colors', collapsed: true, tokens: [
        { var: '--color-success-50', type: 'color', default: '#f0fdf4' },
        { var: '--color-success-500', type: 'color', default: '#22c55e' },
        { var: '--color-success-700', type: 'color', default: '#15803d' },
        { var: '--color-warning-50', type: 'color', default: '#fffbeb' },
        { var: '--color-warning-500', type: 'color', default: '#f59e0b' },
        { var: '--color-warning-700', type: 'color', default: '#b45309' },
        { var: '--color-error-50', type: 'color', default: '#fef2f2' },
        { var: '--color-error-500', type: 'color', default: '#ef4444' },
        { var: '--color-error-700', type: 'color', default: '#b91c1c' },
        { var: '--color-info-50', type: 'color', default: '#eff6ff' },
        { var: '--color-info-500', type: 'color', default: '#3b82f6' },
        { var: '--color-info-700', type: 'color', default: '#1d4ed8' },
      ]
    },
    {
      name: 'Surface Colors', collapsed: true, tokens: [
        { var: '--color-surface', type: 'color', default: '#ffffff' },
        { var: '--color-surface-muted', type: 'color', default: '#fafafa' },
        { var: '--color-surface-raised', type: 'color', default: '#f5f5f5' },
        { var: '--color-surface-overlay', type: 'text', default: 'rgba(0, 0, 0, 0.5)' },
        { var: '--color-surface-inverse', type: 'color', default: '#0a0a0a' },
      ]
    },
    {
      name: 'Text Colors', collapsed: true, tokens: [
        { var: '--color-text-primary', type: 'color', default: '#0a0a0a' },
        { var: '--color-text-secondary', type: 'color', default: '#525252' },
        { var: '--color-text-tertiary', type: 'color', default: '#a3a3a3' },
        { var: '--color-text-disabled', type: 'color', default: '#d4d4d4' },
        { var: '--color-text-inverse', type: 'color', default: '#fafafa' },
        { var: '--color-text-link', type: 'color', default: '#cc9900' },
        { var: '--color-text-link-hover', type: 'color', default: '#b38600' },
      ]
    },
    {
      name: 'Border Colors', collapsed: true, tokens: [
        { var: '--color-border-default', type: 'color', default: '#e5e5e5' },
        { var: '--color-border-strong', type: 'color', default: '#a3a3a3' },
        { var: '--color-border-focus', type: 'color', default: '#cc9900' },
        { var: '--color-border-error', type: 'color', default: '#ef4444' },
      ]
    },
    {
      name: 'Font Sizes', collapsed: true, tokens: [
        { var: '--font-size-xs', type: 'range', default: 0.75, min: 0.5, max: 5, step: 0.0625, unit: 'rem' },
        { var: '--font-size-sm', type: 'range', default: 0.875, min: 0.5, max: 5, step: 0.0625, unit: 'rem' },
        { var: '--font-size-base', type: 'range', default: 1.125, min: 0.5, max: 5, step: 0.0625, unit: 'rem' },
        { var: '--font-size-lg', type: 'range', default: 1.25, min: 0.5, max: 5, step: 0.0625, unit: 'rem' },
        { var: '--font-size-xl', type: 'range', default: 1.5, min: 0.5, max: 5, step: 0.0625, unit: 'rem' },
        { var: '--font-size-2xl', type: 'range', default: 1.875, min: 0.5, max: 5, step: 0.0625, unit: 'rem' },
        { var: '--font-size-3xl', type: 'range', default: 2.25, min: 0.5, max: 5, step: 0.0625, unit: 'rem' },
        { var: '--font-size-4xl', type: 'range', default: 3, min: 0.5, max: 5, step: 0.0625, unit: 'rem' },
        { var: '--font-size-5xl', type: 'range', default: 3.75, min: 0.5, max: 5, step: 0.0625, unit: 'rem' },
      ]
    },
    {
      name: 'Font Weights', collapsed: true, tokens: [
        { var: '--font-weight-normal', type: 'range', default: 400, min: 100, max: 900, step: 100, unit: '' },
        { var: '--font-weight-medium', type: 'range', default: 500, min: 100, max: 900, step: 100, unit: '' },
        { var: '--font-weight-semibold', type: 'range', default: 600, min: 100, max: 900, step: 100, unit: '' },
        { var: '--font-weight-bold', type: 'range', default: 700, min: 100, max: 900, step: 100, unit: '' },
        { var: '--font-weight-black', type: 'range', default: 900, min: 100, max: 900, step: 100, unit: '' },
      ]
    },
    {
      name: 'Line Heights', collapsed: true, tokens: [
        { var: '--line-height-none', type: 'range', default: 1, min: 0.8, max: 3, step: 0.025, unit: '' },
        { var: '--line-height-tight', type: 'range', default: 1.25, min: 0.8, max: 3, step: 0.025, unit: '' },
        { var: '--line-height-snug', type: 'range', default: 1.375, min: 0.8, max: 3, step: 0.025, unit: '' },
        { var: '--line-height-normal', type: 'range', default: 1.625, min: 0.8, max: 3, step: 0.025, unit: '' },
        { var: '--line-height-relaxed', type: 'range', default: 1.75, min: 0.8, max: 3, step: 0.025, unit: '' },
        { var: '--line-height-loose', type: 'range', default: 2, min: 0.8, max: 3, step: 0.025, unit: '' },
      ]
    },
    {
      name: 'Letter Spacing', collapsed: true, tokens: [
        { var: '--letter-spacing-tighter', type: 'range', default: -0.03, min: -0.1, max: 0.15, step: 0.005, unit: 'em' },
        { var: '--letter-spacing-tight', type: 'range', default: -0.015, min: -0.1, max: 0.15, step: 0.005, unit: 'em' },
        { var: '--letter-spacing-normal', type: 'range', default: 0, min: -0.1, max: 0.15, step: 0.005, unit: 'em' },
        { var: '--letter-spacing-wide', type: 'range', default: 0.025, min: -0.1, max: 0.15, step: 0.005, unit: 'em' },
        { var: '--letter-spacing-wider', type: 'range', default: 0.05, min: -0.1, max: 0.15, step: 0.005, unit: 'em' },
      ]
    },
    {
      name: 'Base Spacing', collapsed: true, tokens: [
        { var: '--spacing-0', type: 'range', default: 0, min: 0, max: 16, step: 1, unit: 'px' },
        { var: '--spacing-0_5', type: 'range', default: 2, min: 0, max: 16, step: 1, unit: 'px' },
        { var: '--spacing-1', type: 'range', default: 4, min: 0, max: 32, step: 1, unit: 'px' },
        { var: '--spacing-2', type: 'range', default: 8, min: 0, max: 32, step: 1, unit: 'px' },
        { var: '--spacing-3', type: 'range', default: 12, min: 0, max: 48, step: 1, unit: 'px' },
        { var: '--spacing-4', type: 'range', default: 16, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--spacing-5', type: 'range', default: 20, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--spacing-6', type: 'range', default: 24, min: 0, max: 96, step: 1, unit: 'px' },
        { var: '--spacing-8', type: 'range', default: 32, min: 0, max: 128, step: 1, unit: 'px' },
        { var: '--spacing-10', type: 'range', default: 40, min: 0, max: 160, step: 1, unit: 'px' },
        { var: '--spacing-12', type: 'range', default: 48, min: 0, max: 192, step: 1, unit: 'px' },
        { var: '--spacing-16', type: 'range', default: 64, min: 0, max: 256, step: 1, unit: 'px' },
        { var: '--spacing-20', type: 'range', default: 80, min: 0, max: 320, step: 1, unit: 'px' },
        { var: '--spacing-24', type: 'range', default: 96, min: 0, max: 384, step: 1, unit: 'px' },
        { var: '--spacing-32', type: 'range', default: 128, min: 0, max: 512, step: 1, unit: 'px' },
        { var: '--spacing-40', type: 'range', default: 160, min: 0, max: 512, step: 1, unit: 'px' },
        { var: '--spacing-48', type: 'range', default: 192, min: 0, max: 512, step: 1, unit: 'px' },
        { var: '--spacing-64', type: 'range', default: 256, min: 0, max: 512, step: 1, unit: 'px' },
      ]
    },
    {
      name: 'Semantic Spacing', collapsed: true, tokens: [
        { var: '--spacing-card-padding', type: 'range', default: 24, min: 0, max: 96, step: 1, unit: 'px' },
        { var: '--spacing-card-gap', type: 'range', default: 16, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--spacing-section-y', type: 'range', default: 64, min: 0, max: 256, step: 1, unit: 'px' },
        { var: '--spacing-section-y-lg', type: 'range', default: 96, min: 0, max: 384, step: 1, unit: 'px' },
        { var: '--spacing-page-x', type: 'range', default: 16, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--spacing-page-x-lg', type: 'range', default: 32, min: 0, max: 128, step: 1, unit: 'px' },
        { var: '--spacing-stack-sm', type: 'range', default: 8, min: 0, max: 32, step: 1, unit: 'px' },
        { var: '--spacing-stack-md', type: 'range', default: 16, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--spacing-stack-lg', type: 'range', default: 32, min: 0, max: 128, step: 1, unit: 'px' },
        { var: '--spacing-inline-sm', type: 'range', default: 8, min: 0, max: 32, step: 1, unit: 'px' },
        { var: '--spacing-inline-md', type: 'range', default: 12, min: 0, max: 48, step: 1, unit: 'px' },
        { var: '--spacing-inline-lg', type: 'range', default: 24, min: 0, max: 96, step: 1, unit: 'px' },
        { var: '--spacing-input-x', type: 'range', default: 12, min: 0, max: 48, step: 1, unit: 'px' },
        { var: '--spacing-input-y', type: 'range', default: 8, min: 0, max: 32, step: 1, unit: 'px' },
        { var: '--spacing-button-x', type: 'range', default: 24, min: 0, max: 96, step: 1, unit: 'px' },
        { var: '--spacing-button-y', type: 'range', default: 12, min: 0, max: 48, step: 1, unit: 'px' },
      ]
    },
    {
      name: 'Containers / Max-Width', collapsed: true, tokens: [
        { var: '--container-xs', type: 'range', default: 320, min: 200, max: 600, step: 8, unit: 'px' },
        { var: '--container-sm', type: 'range', default: 568, min: 320, max: 960, step: 8, unit: 'px' },
        { var: '--container-md', type: 'range', default: 960, min: 600, max: 1400, step: 8, unit: 'px' },
        { var: '--container-lg', type: 'range', default: 1400, min: 960, max: 2000, step: 8, unit: 'px' },
        { var: '--container-xl', type: 'range', default: 1536, min: 1200, max: 2400, step: 8, unit: 'px' },
      ]
    },
    {
      name: 'Base Radius', collapsed: true, tokens: [
        { var: '--radius-none', type: 'range', default: 0, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--radius-sm', type: 'range', default: 4, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--radius-md', type: 'range', default: 8, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--radius-lg', type: 'range', default: 16, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--radius-xl', type: 'range', default: 32, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--radius-full', type: 'range', default: 9999, min: 0, max: 9999, step: 1, unit: 'px' },
      ]
    },
    {
      name: 'Semantic Radius', collapsed: true, tokens: [
        { var: '--radius-button', type: 'range', default: 8, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--radius-card', type: 'range', default: 16, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--radius-input', type: 'range', default: 8, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--radius-badge', type: 'range', default: 9999, min: 0, max: 9999, step: 1, unit: 'px' },
        { var: '--radius-modal', type: 'range', default: 32, min: 0, max: 64, step: 1, unit: 'px' },
        { var: '--radius-tooltip', type: 'range', default: 4, min: 0, max: 64, step: 1, unit: 'px' },
      ]
    },
    {
      name: 'Base Shadows', collapsed: true, tokens: [
        { var: '--shadow-sm', type: 'text', default: '0 1px 2px 0 rgba(0,0,0,0.04), 0 1px 3px 0 rgba(0,0,0,0.06)' },
        { var: '--shadow-md', type: 'text', default: '0 2px 4px -1px rgba(0,0,0,0.04), 0 4px 8px -1px rgba(0,0,0,0.08)' },
        { var: '--shadow-lg', type: 'text', default: '0 4px 8px -2px rgba(0,0,0,0.06), 0 12px 24px -4px rgba(0,0,0,0.10)' },
        { var: '--shadow-xl', type: 'text', default: '0 8px 16px -4px rgba(0,0,0,0.06), 0 24px 48px -8px rgba(0,0,0,0.12)' },
      ]
    },
    {
      name: 'Semantic Shadows', collapsed: true, tokens: [
        { var: '--shadow-card', type: 'text', default: 'var(--shadow-sm)' },
        { var: '--shadow-dropdown', type: 'text', default: 'var(--shadow-md)' },
        { var: '--shadow-modal', type: 'text', default: 'var(--shadow-xl)' },
        { var: '--shadow-toast', type: 'text', default: 'var(--shadow-lg)' },
      ]
    },
    {
      name: 'Motion — Durations', collapsed: true, tokens: [
        { var: '--duration-fast', type: 'range', default: 100, min: 0, max: 2000, step: 10, unit: 'ms' },
        { var: '--duration-default', type: 'range', default: 200, min: 0, max: 2000, step: 10, unit: 'ms' },
        { var: '--duration-slow', type: 'range', default: 300, min: 0, max: 2000, step: 10, unit: 'ms' },
        { var: '--duration-slower', type: 'range', default: 500, min: 0, max: 2000, step: 10, unit: 'ms' },
      ]
    },
    {
      name: 'Motion — Easing', collapsed: true, tokens: [
        { var: '--ease-default', type: 'text', default: 'ease-in-out' },
        { var: '--ease-in', type: 'text', default: 'ease-in' },
        { var: '--ease-out', type: 'text', default: 'ease-out' },
      ]
    },
    {
      name: 'Animations', collapsed: true, tokens: [
        { var: '--animate-fade-in', type: 'text', default: 'fade-in var(--duration-default) var(--ease-default)' },
        { var: '--animate-fade-out', type: 'text', default: 'fade-out var(--duration-default) var(--ease-default)' },
      ]
    },
    {
      name: 'Font Families', collapsed: false, tokens: [
        { var: '--font-sans', type: 'font', default: "'Roboto', ui-sans-serif, system-ui, sans-serif",
          options: [
            { label: 'Roboto', value: "'Roboto', ui-sans-serif, system-ui, sans-serif", google: 'Roboto:wght@100..900' },
            { label: 'Inter', value: "'Inter', ui-sans-serif, system-ui, sans-serif", google: 'Inter:wght@100..900' },
            { label: 'Open Sans', value: "'Open Sans', ui-sans-serif, system-ui, sans-serif", google: 'Open+Sans:wght@300..800' },
            { label: 'Poppins', value: "'Poppins', ui-sans-serif, system-ui, sans-serif", google: 'Poppins:wght@100;200;300;400;500;600;700;800;900' },
            { label: 'Montserrat', value: "'Montserrat', ui-sans-serif, system-ui, sans-serif", google: 'Montserrat:wght@100..900' },
            { label: 'Lato', value: "'Lato', ui-sans-serif, system-ui, sans-serif", google: 'Lato:wght@100;300;400;700;900' },
            { label: 'Nunito', value: "'Nunito', ui-sans-serif, system-ui, sans-serif", google: 'Nunito:wght@200..1000' },
            { label: 'Raleway', value: "'Raleway', ui-sans-serif, system-ui, sans-serif", google: 'Raleway:wght@100..900' },
            { label: 'Plus Jakarta Sans', value: "'Plus Jakarta Sans', ui-sans-serif, system-ui, sans-serif", google: 'Plus+Jakarta+Sans:wght@200..800' },
            { label: 'DM Sans', value: "'DM Sans', ui-sans-serif, system-ui, sans-serif", google: 'DM+Sans:wght@100..1000' },
            { label: 'Quicksand', value: "'Quicksand', ui-sans-serif, system-ui, sans-serif", google: 'Quicksand:wght@300..700' },
            { label: 'Outfit', value: "'Outfit', ui-sans-serif, system-ui, sans-serif", google: 'Outfit:wght@100..900' },
            { label: 'Rubik', value: "'Rubik', ui-sans-serif, system-ui, sans-serif", google: 'Rubik:wght@300..900' },
            { label: 'Manrope', value: "'Manrope', ui-sans-serif, system-ui, sans-serif", google: 'Manrope:wght@200..800' },
            { label: 'Source Sans 3', value: "'Source Sans 3', ui-sans-serif, system-ui, sans-serif", google: 'Source+Sans+3:wght@200..900' },
            { label: 'Noto Sans', value: "'Noto Sans', ui-sans-serif, system-ui, sans-serif", google: 'Noto+Sans:wght@100..900' },
            { label: 'Work Sans', value: "'Work Sans', ui-sans-serif, system-ui, sans-serif", google: 'Work+Sans:wght@100..900' },
            { label: 'Sora', value: "'Sora', ui-sans-serif, system-ui, sans-serif", google: 'Sora:wght@100..800' },
            { label: 'System UI', value: "ui-sans-serif, system-ui, -apple-system, sans-serif", google: null },
          ]
        },
        { var: '--font-mono', type: 'font', default: "ui-monospace, 'Cascadia Code', 'Fira Code', monospace",
          options: [
            { label: 'System Mono', value: "ui-monospace, 'Cascadia Code', 'Fira Code', monospace", google: null },
            { label: 'Fira Code', value: "'Fira Code', ui-monospace, monospace", google: 'Fira+Code:wght@300..700' },
            { label: 'JetBrains Mono', value: "'JetBrains Mono', ui-monospace, monospace", google: 'JetBrains+Mono:wght@100..800' },
            { label: 'Source Code Pro', value: "'Source Code Pro', ui-monospace, monospace", google: 'Source+Code+Pro:wght@200..900' },
            { label: 'IBM Plex Mono', value: "'IBM Plex Mono', ui-monospace, monospace", google: 'IBM+Plex+Mono:wght@100..700' },
            { label: 'Space Mono', value: "'Space Mono', ui-monospace, monospace", google: 'Space+Mono:wght@400;700' },
            { label: 'Inconsolata', value: "'Inconsolata', ui-monospace, monospace", google: 'Inconsolata:wght@200..900' },
          ]
        },
      ]
    },
    {
      name: 'Containers — Full', collapsed: true, tokens: [
        { var: '--container-full', type: 'text', default: '100%' },
      ]
    },
    {
      name: 'Z-Index', collapsed: true, tokens: [
        { var: '--z-behind', type: 'range', default: -1, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-base', type: 'range', default: 0, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-raised', type: 'range', default: 1, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-dropdown', type: 'range', default: 10, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-sticky', type: 'range', default: 20, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-header', type: 'range', default: 30, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-sidebar', type: 'range', default: 35, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-backdrop', type: 'range', default: 40, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-modal', type: 'range', default: 50, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-popover', type: 'range', default: 60, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-toast', type: 'range', default: 70, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-tooltip', type: 'range', default: 80, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-spotlight', type: 'range', default: 90, min: -10, max: 200, step: 1, unit: '' },
        { var: '--z-max', type: 'range', default: 100, min: -10, max: 200, step: 1, unit: '' },
      ]
    },
    {
      name: 'Breakpoints', collapsed: true, tokens: [
        { var: '--breakpoint-xs', type: 'range', default: 320, min: 200, max: 600, step: 8, unit: 'px' },
        { var: '--breakpoint-sm', type: 'range', default: 568, min: 320, max: 960, step: 8, unit: 'px' },
        { var: '--breakpoint-md', type: 'range', default: 960, min: 600, max: 1400, step: 8, unit: 'px' },
        { var: '--breakpoint-lg', type: 'range', default: 1280, min: 960, max: 2000, step: 8, unit: 'px' },
        { var: '--breakpoint-xl', type: 'range', default: 1536, min: 1200, max: 2400, step: 8, unit: 'px' },
      ]
    },
  ];

  // ══════════════════════════════════════════════
  // COMPONENT EDITORS — per-component controls + live preview
  // ══════════════════════════════════════════════
  const componentEditors = [
    {
      id: 'btn',
      name: 'Butonlar',
      icon: '▣',
      tokens: [
        { var: '--btn-bg', type: 'color', default: '#cc9900', label: 'Arkaplan' },
        { var: '--btn-text', type: 'color', default: '#ffffff', label: 'Yazı Rengi' },
        { var: '--radius-button', type: 'range', default: 8, min: 0, max: 64, step: 1, unit: 'px', label: 'Radius' },
        { var: '--btn-border-width', type: 'range', default: 0, min: 0, max: 8, step: 1, unit: 'px', label: 'Border Kalınlık' },
        { var: '--btn-border-color', type: 'color', default: '#cc9900', label: 'Border Rengi' },
        { var: '--spacing-button-x', type: 'range', default: 24, min: 0, max: 64, step: 1, unit: 'px', label: 'Padding X' },
        { var: '--spacing-button-y', type: 'range', default: 12, min: 0, max: 32, step: 1, unit: 'px', label: 'Padding Y' },
        { var: '--btn-font-size', type: 'range', default: 0.875, min: 0.5, max: 2, step: 0.0625, unit: 'rem', label: 'Font Size' },
        { var: '--btn-font-weight', type: 'range', default: 600, min: 100, max: 900, step: 100, unit: '', label: 'Font Weight' },
        { var: '--btn-shadow', type: 'text', default: 'none', label: 'Shadow' },
      ],
      outlineTokens: [
        { var: '--btn-outline-bg', type: 'color', default: '#ffffff', label: 'Outline Arkaplan' },
        { var: '--btn-outline-text', type: 'color', default: '#cc9900', label: 'Outline Yazı' },
        { var: '--btn-outline-border-width', type: 'range', default: 2, min: 0, max: 8, step: 1, unit: 'px', label: 'Outline Border' },
        { var: '--btn-outline-border-color', type: 'color', default: '#cc9900', label: 'Outline Border Rengi' },
      ],
      preview: () => `
        <div class="flex flex-wrap items-center gap-3">
          <button class="comp-btn transition-all">Primary</button>
          <button class="comp-btn-outline transition-all">Outline</button>
          <button class="comp-btn comp-btn-sm transition-all">Small</button>
          <button class="comp-btn comp-btn-lg transition-all">Large</button>
          <button class="comp-btn transition-all opacity-50 cursor-not-allowed" disabled>Disabled</button>
          <button class="comp-btn transition-all" style="border-radius:var(--radius-full)">Pill</button>
        </div>
      `
    },
    {
      id: 'card',
      name: 'Kartlar',
      icon: '▭',
      tokens: [
        { var: '--card-bg', type: 'color', default: '#ffffff', label: 'Arkaplan' },
        { var: '--radius-card', type: 'range', default: 16, min: 0, max: 64, step: 1, unit: 'px', label: 'Radius' },
        { var: '--card-border-width', type: 'range', default: 1, min: 0, max: 8, step: 1, unit: 'px', label: 'Border Kalınlık' },
        { var: '--card-border-color', type: 'color', default: '#e5e5e5', label: 'Border Rengi' },
        { var: '--spacing-card-padding', type: 'range', default: 24, min: 0, max: 64, step: 1, unit: 'px', label: 'Padding' },
        { var: '--spacing-card-gap', type: 'range', default: 16, min: 0, max: 48, step: 1, unit: 'px', label: 'Gap' },
        { var: '--shadow-card', type: 'text', default: 'var(--shadow-sm)', label: 'Shadow' },
        { var: '--card-title-size', type: 'range', default: 0.875, min: 0.5, max: 2, step: 0.0625, unit: 'rem', label: 'Başlık Size' },
        { var: '--card-title-weight', type: 'range', default: 700, min: 100, max: 900, step: 100, unit: '', label: 'Başlık Weight' },
        { var: '--card-price-color', type: 'color', default: '#111827', label: 'Fiyat Rengi' },
        { var: '--card-price-size', type: 'range', default: 15, min: 10, max: 28, step: 1, unit: 'px', label: 'Fiyat Boyut' },
        { var: '--card-price-weight', type: 'range', default: 700, min: 100, max: 900, step: 100, unit: '', label: 'Fiyat Ağırlık' },
        { var: '--card-desc-color', type: 'color', default: '#6b7280', label: 'Açıklama Rengi' },
        { var: '--card-desc-size', type: 'range', default: 12, min: 8, max: 18, step: 1, unit: 'px', label: 'Açıklama Boyut' },
        { var: '--card-moq-color', type: 'color', default: '#6b7280', label: 'MOQ Rengi' },
        { var: '--card-moq-size', type: 'range', default: 11, min: 8, max: 16, step: 1, unit: 'px', label: 'MOQ Boyut' },
        { var: '--card-badge-bg', type: 'color', default: '#FFF3E0', label: 'Badge Arkaplan' },
        { var: '--card-badge-text', type: 'color', default: '#e65100', label: 'Badge Yazı' },
        { var: '--card-badge-size', type: 'range', default: 10, min: 8, max: 14, step: 1, unit: 'px', label: 'Badge Boyut' },
        { var: '--card-badge-radius', type: 'range', default: 4, min: 0, max: 16, step: 1, unit: 'px', label: 'Badge Radius' },
        { var: '--card-verified-color', type: 'color', default: '#cc9900', label: 'Doğrulanmış Rengi' },
        { var: '--card-verified-size', type: 'range', default: 11, min: 8, max: 16, step: 1, unit: 'px', label: 'Doğrulanmış Boyut' },
        { var: '--card-supplier-color', type: 'color', default: '#9ca3af', label: 'Tedarikçi Rengi' },
        { var: '--card-supplier-size', type: 'range', default: 11, min: 8, max: 16, step: 1, unit: 'px', label: 'Tedarikçi Boyut' },
      ],
      preview: () => `
        <div class="grid grid-cols-2 lg:grid-cols-4" style="gap:var(--spacing-card-gap)">
          <!-- Ürün Kartı 1: Tools -->
          <div class="comp-card overflow-hidden flex flex-col" style="padding:0">
            <div class="relative w-full overflow-hidden" style="aspect-ratio:1/1; border-radius:var(--radius-card) var(--radius-card) 0 0; background:linear-gradient(180deg, #f1f5f9 0%, #e2e8f0 100%);">
              <div class="absolute -right-4 -top-4 h-12 w-12 rounded-full opacity-50" style="background:rgba(100,116,139,0.3)"></div>
              <div class="absolute -left-3 bottom-1 h-10 w-10 rounded-full opacity-40" style="background:rgba(100,116,139,0.3)"></div>
              <div class="absolute inset-0 flex items-center justify-center">
                <svg class="h-14 w-14" fill="none" stroke-width="1.4" viewBox="0 0 24 24" style="stroke:#475569"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76Z"/></svg>
              </div>
              <div class="absolute top-2 left-2 z-10 flex h-6 w-6 items-center justify-center rounded-full opacity-60" style="background:rgba(0,0,0,0.4); color:#fff">
                <svg class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M3 9a2 2 0 0 1 2-2h2l1-2h8l1 2h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/><circle cx="12" cy="13" r="3"/></svg>
              </div>
            </div>
            <div class="flex flex-1 flex-col" style="padding:var(--spacing-card-padding)">
              <h4 class="comp-card-title line-clamp-2 leading-[1.35]" style="height:2.7em">Professional Cordless Electric Screwdriver Set 48pcs</h4>
              <div class="mt-1.5" style="height:16px"></div>
              <p class="mt-2 leading-none" style="color:var(--card-price-color); font-size:var(--card-price-size); font-weight:var(--card-price-weight)">$6.80-9.50</p>
              <p class="mt-1.5 leading-none" style="color:var(--card-moq-color); font-size:var(--card-moq-size)">MOQ: 5 pieces &nbsp; 2,150 sold</p>
              <div class="mt-auto pt-2" style="height:18px">
                <p class="leading-none" style="color:var(--card-supplier-color); font-size:var(--card-supplier-size)">8 yrs &middot; CN</p>
              </div>
            </div>
          </div>
          <!-- Ürün Kartı 2: Jewelry -->
          <div class="comp-card overflow-hidden flex flex-col" style="padding:0">
            <div class="relative w-full overflow-hidden" style="aspect-ratio:1/1; border-radius:var(--radius-card) var(--radius-card) 0 0; background:linear-gradient(180deg, #fef9e7 0%, #fdf0c3 100%);">
              <div class="absolute -right-4 -top-4 h-12 w-12 rounded-full opacity-50" style="background:rgba(230,178,18,0.3)"></div>
              <div class="absolute -left-3 bottom-1 h-10 w-10 rounded-full opacity-40" style="background:rgba(230,178,18,0.3)"></div>
              <div class="absolute inset-0 flex items-center justify-center">
                <svg class="h-14 w-14" fill="none" stroke-width="1.4" viewBox="0 0 24 24" style="stroke:#8a6800"><path d="M12 2l2.5 5.5L20 9l-4 4 1 5.5L12 16l-5 2.5 1-5.5-4-4 5.5-1.5Z"/><circle cx="12" cy="10" r="2"/></svg>
              </div>
              <div class="absolute top-2 left-2 z-10 flex h-6 w-6 items-center justify-center rounded-full opacity-60" style="background:rgba(0,0,0,0.4); color:#fff">
                <svg class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M3 9a2 2 0 0 1 2-2h2l1-2h8l1 2h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/><circle cx="12" cy="13" r="3"/></svg>
              </div>
            </div>
            <div class="flex flex-1 flex-col" style="padding:var(--spacing-card-padding)">
              <h4 class="comp-card-title line-clamp-2 leading-[1.35]" style="height:2.7em">Custom Gold Plated Stainless Steel Necklace Pendant</h4>
              <div class="mt-1.5" style="height:16px">
                <div class="inline-flex w-fit items-center gap-1 px-1.5 py-0.5 font-semibold leading-none" style="background:var(--card-badge-bg); color:var(--card-badge-text); font-size:var(--card-badge-size); border-radius:var(--card-badge-radius);">
                  <svg class="h-3 w-3 flex-shrink-0" viewBox="0 0 16 16" fill="currentColor"><path d="M9 1L3 9h4v6l6-8H9V1Z"/></svg>
                  <span>180-day lowest</span>
                </div>
              </div>
              <p class="mt-2 leading-none" style="color:var(--card-price-color); font-size:var(--card-price-size); font-weight:var(--card-price-weight)">$1.80-2</p>
              <p class="mt-1.5 leading-none" style="color:var(--card-moq-color); font-size:var(--card-moq-size)">MOQ: 3 pcs &nbsp; 4,056 sold</p>
              <div class="mt-auto pt-2" style="height:18px">
                <div class="inline-flex w-fit items-center gap-1 font-medium leading-none" style="color:var(--card-verified-color); font-size:var(--card-verified-size);">
                  <svg class="h-3.5 w-3.5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z" clip-rule="evenodd"/></svg>
                  <span>Verified</span><span class="opacity-60">&middot;</span><span>5 yrs</span><span class="opacity-60">&middot;</span><span>CN</span>
                </div>
              </div>
            </div>
          </div>
          <!-- Ürün Kartı 3: Electronics -->
          <div class="comp-card overflow-hidden flex flex-col" style="padding:0">
            <div class="relative w-full overflow-hidden" style="aspect-ratio:1/1; border-radius:var(--radius-card) var(--radius-card) 0 0; background:linear-gradient(180deg, #eef2ff 0%, #dbeafe 100%);">
              <div class="absolute -right-4 -top-4 h-12 w-12 rounded-full opacity-50" style="background:rgba(129,140,248,0.3)"></div>
              <div class="absolute -left-3 bottom-1 h-10 w-10 rounded-full opacity-40" style="background:rgba(129,140,248,0.3)"></div>
              <div class="absolute inset-0 flex items-center justify-center">
                <svg class="h-14 w-14" fill="none" stroke-width="1.4" viewBox="0 0 24 24" style="stroke:#4f5fb3"><rect x="3" y="4" width="18" height="12" rx="2"/><path d="M7 20h10M12 16v4"/><circle cx="12" cy="10" r="2"/></svg>
              </div>
              <div class="absolute top-2 left-2 z-10 flex h-6 w-6 items-center justify-center rounded-full opacity-60" style="background:rgba(0,0,0,0.4); color:#fff">
                <svg class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M3 9a2 2 0 0 1 2-2h2l1-2h8l1 2h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/><circle cx="12" cy="13" r="3"/></svg>
              </div>
            </div>
            <div class="flex flex-1 flex-col" style="padding:var(--spacing-card-padding)">
              <h4 class="comp-card-title line-clamp-2 leading-[1.35]" style="height:2.7em">Smart WiFi Security Camera 1080P Night Vision</h4>
              <div class="mt-1.5" style="height:16px"></div>
              <p class="mt-2 leading-none" style="color:var(--card-price-color); font-size:var(--card-price-size); font-weight:var(--card-price-weight)">$8.50-12</p>
              <p class="mt-1.5 leading-none" style="color:var(--card-moq-color); font-size:var(--card-moq-size)">MOQ: 10 pcs &nbsp; 1,280 sold</p>
              <div class="mt-auto pt-2" style="height:18px">
                <div class="inline-flex w-fit items-center gap-1 font-medium leading-none" style="color:var(--card-verified-color); font-size:var(--card-verified-size);">
                  <svg class="h-3.5 w-3.5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z" clip-rule="evenodd"/></svg>
                  <span>Verified</span><span class="opacity-60">&middot;</span><span>7 yrs</span><span class="opacity-60">&middot;</span><span>CN</span>
                </div>
              </div>
            </div>
          </div>
          <!-- Ürün Kartı 4: Clothing -->
          <div class="comp-card overflow-hidden flex flex-col" style="padding:0">
            <div class="relative w-full overflow-hidden" style="aspect-ratio:1/1; border-radius:var(--radius-card) var(--radius-card) 0 0; background:linear-gradient(180deg, #fdf2f8 0%, #fce7f3 100%);">
              <div class="absolute -right-4 -top-4 h-12 w-12 rounded-full opacity-50" style="background:rgba(244,114,182,0.3)"></div>
              <div class="absolute -left-3 bottom-1 h-10 w-10 rounded-full opacity-40" style="background:rgba(244,114,182,0.3)"></div>
              <div class="absolute inset-0 flex items-center justify-center">
                <svg class="h-14 w-14" fill="none" stroke-width="1.4" viewBox="0 0 24 24" style="stroke:#a3456e"><path d="M8 3h8l2 6v12H6V9l2-6Z"/><path d="M12 3v8M8 3 6 9M16 3l2 6"/></svg>
              </div>
              <div class="absolute top-2 left-2 z-10 flex h-6 w-6 items-center justify-center rounded-full opacity-60" style="background:rgba(0,0,0,0.4); color:#fff">
                <svg class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M3 9a2 2 0 0 1 2-2h2l1-2h8l1 2h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/><circle cx="12" cy="13" r="3"/></svg>
              </div>
            </div>
            <div class="flex flex-1 flex-col" style="padding:var(--spacing-card-padding)">
              <h4 class="comp-card-title line-clamp-2 leading-[1.35]" style="height:2.7em">Oversized Cotton Vintage Graphic Print T-Shirt Unisex</h4>
              <div class="mt-1.5" style="height:16px">
                <div class="inline-flex w-fit items-center gap-1 px-1.5 py-0.5 font-semibold leading-none" style="background:var(--card-badge-bg); color:var(--card-badge-text); font-size:var(--card-badge-size); border-radius:var(--card-badge-radius);">
                  <svg class="h-3 w-3 flex-shrink-0" viewBox="0 0 16 16" fill="currentColor"><path d="M9 1L3 9h4v6l6-8H9V1Z"/></svg>
                  <span>180-day lowest</span>
                </div>
              </div>
              <p class="mt-2 leading-none" style="color:var(--card-price-color); font-size:var(--card-price-size); font-weight:var(--card-price-weight)">$3.20-4.50</p>
              <p class="mt-1.5 leading-none" style="color:var(--card-moq-color); font-size:var(--card-moq-size)">MOQ: 30 pcs &nbsp; 9,450 sold</p>
              <div class="mt-auto pt-2" style="height:18px">
                <div class="inline-flex w-fit items-center gap-1 font-medium leading-none" style="color:var(--card-verified-color); font-size:var(--card-verified-size);">
                  <svg class="h-3.5 w-3.5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z" clip-rule="evenodd"/></svg>
                  <span>Verified</span><span class="opacity-60">&middot;</span><span>4 yrs</span><span class="opacity-60">&middot;</span><span>CN</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      `
    },
    {
      id: 'input',
      name: 'Input / Arama',
      icon: '▬',
      tokens: [
        { var: '--input-bg', type: 'color', default: '#ffffff', label: 'Arkaplan' },
        { var: '--input-text-color', type: 'color', default: '#0a0a0a', label: 'Yazı Rengi' },
        { var: '--radius-input', type: 'range', default: 8, min: 0, max: 64, step: 1, unit: 'px', label: 'Radius' },
        { var: '--input-border-width', type: 'range', default: 1, min: 0, max: 8, step: 1, unit: 'px', label: 'Border Kalınlık' },
        { var: '--input-border-color', type: 'color', default: '#e5e5e5', label: 'Border Rengi' },
        { var: '--input-focus-border-color', type: 'color', default: '#cc9900', label: 'Focus Border' },
        { var: '--spacing-input-x', type: 'range', default: 12, min: 0, max: 48, step: 1, unit: 'px', label: 'Padding X' },
        { var: '--spacing-input-y', type: 'range', default: 8, min: 0, max: 32, step: 1, unit: 'px', label: 'Padding Y' },
        { var: '--input-font-size', type: 'range', default: 0.875, min: 0.5, max: 2, step: 0.0625, unit: 'rem', label: 'Font Size' },
      ],
      preview: () => `
        <div class="flex flex-wrap gap-4 items-start">
          <div class="flex-1 min-w-[200px]">
            <label class="block text-xs font-semibold text-text-secondary mb-1">Normal</label>
            <input type="text" placeholder="Ürün ara..." class="comp-input w-full" />
          </div>
          <div class="flex-1 min-w-[200px]">
            <label class="block text-xs font-semibold text-text-secondary mb-1">Focus (tıklayın)</label>
            <input type="text" placeholder="Focus durumu..." class="comp-input comp-input-focus w-full" />
          </div>
          <div class="flex-1 min-w-[200px]">
            <label class="block text-xs font-semibold text-text-secondary mb-1">Select</label>
            <select class="comp-input w-full">
              <option>Kategori seçin</option>
              <option>Elektronik</option>
              <option>Mobilya</option>
            </select>
          </div>
          <div class="flex-1 min-w-[200px]">
            <label class="block text-xs font-semibold text-text-secondary mb-1">Arama Çubuğu</label>
            <div class="flex">
              <input type="text" placeholder="Ne arıyorsunuz?" class="comp-input flex-1" style="border-radius:var(--radius-input) 0 0 var(--radius-input)" />
              <button class="comp-btn" style="border-radius:0 var(--radius-input) var(--radius-input) 0; padding:0 16px;">Ara</button>
            </div>
          </div>
        </div>
      `
    },
    {
      id: 'badge',
      name: 'Badge / Etiket',
      icon: '●',
      tokens: [
        { var: '--radius-badge', type: 'range', default: 9999, min: 0, max: 9999, step: 1, unit: 'px', label: 'Radius' },
        { var: '--badge-font-size', type: 'range', default: 0.75, min: 0.5, max: 1.5, step: 0.0625, unit: 'rem', label: 'Font Size' },
        { var: '--badge-font-weight', type: 'range', default: 600, min: 100, max: 900, step: 100, unit: '', label: 'Font Weight' },
        { var: '--badge-padding-x', type: 'range', default: 12, min: 0, max: 32, step: 1, unit: 'px', label: 'Padding X' },
        { var: '--badge-padding-y', type: 'range', default: 4, min: 0, max: 16, step: 1, unit: 'px', label: 'Padding Y' },
      ],
      preview: () => `
        <div class="flex flex-wrap gap-3 items-center">
          <span class="comp-badge" style="background:var(--color-primary-100);color:var(--color-primary-800)">Primary</span>
          <span class="comp-badge" style="background:var(--color-accent-100);color:var(--color-accent-800)">Accent</span>
          <span class="comp-badge" style="background:var(--color-success-50);color:var(--color-success-700)">Stokta</span>
          <span class="comp-badge" style="background:var(--color-warning-50);color:var(--color-warning-700)">Sınırlı</span>
          <span class="comp-badge" style="background:var(--color-error-50);color:var(--color-error-700)">Tükendi</span>
          <span class="comp-badge" style="background:var(--color-info-50);color:var(--color-info-700)">Yeni</span>
          <span class="comp-badge" style="background:var(--color-secondary-100);color:var(--color-secondary-700)">Nötr</span>
          <span class="comp-badge" style="background:var(--color-error-500);color:#fff">-20%</span>
        </div>
      `
    },
  ];

  // ──── Build controls UI — grouped dropdowns with internal tabs ────
  const controlsContainer = document.getElementById('controls-container');
  if (controlsContainer) {
    // Category grouping for token groups
    const tokenCategories = [
      { name: 'Renkler', icon: '◆', groupNames: ['Primary Colors', 'Secondary Colors', 'Accent Colors', 'Semantic Colors', 'Surface Colors', 'Text Colors', 'Border Colors'] },
      { name: 'Tipografi', icon: 'Aa', groupNames: ['Font Families', 'Font Sizes', 'Font Weights', 'Line Heights', 'Letter Spacing'] },
      { name: 'Aralık & Boyut', icon: '↔', groupNames: ['Base Spacing', 'Semantic Spacing', 'Containers / Max-Width', 'Containers — Full', 'Breakpoints'] },
      { name: 'Görünüm', icon: '◻', groupNames: ['Base Radius', 'Semantic Radius', 'Base Shadows', 'Semantic Shadows'] },
      { name: 'Animasyon & Sistem', icon: '⚡', groupNames: ['Motion — Durations', 'Motion — Easing', 'Animations', 'Z-Index'] },
    ];

    // Helper: build a single token cell
    function buildTokenCell(uid, token) {
      const cell = document.createElement('div');
      if (token.type === 'color') {
        const isTransp = token.default === 'transparent';
        cell.innerHTML = `
          <label class="block text-[11px] font-mono text-text-secondary mb-1 truncate" title="${token.var}">${token.var}</label>
          <div class="flex items-center gap-1.5">
            <div class="relative flex-shrink-0">
              <div id="${uid}-swatch" class="w-7 h-7 rounded border border-border-default cursor-pointer ${isTransp ? 'ds-checker-bg-sm' : ''}" style="background-color:${isTransp ? 'transparent' : token.default}"></div>
              <input type="color" id="${uid}" value="${isTransp ? '#ffffff' : token.default}" class="absolute inset-0 w-7 h-7 opacity-0 cursor-pointer" />
            </div>
            <input type="text" id="${uid}-text" value="${token.default}" class="flex-1 min-w-0 text-[10px] font-mono border border-border-default dark:border-secondary-600 rounded px-1.5 py-1 bg-white dark:bg-secondary-800 focus:border-primary-500 focus:outline-none" />
            <button type="button" id="${uid}-transp" class="flex-shrink-0 w-6 h-6 rounded border text-[10px] font-bold leading-none flex items-center justify-center transition-colors ${isTransp ? 'bg-primary-100 border-primary-400 text-primary-700' : 'border-border-default text-text-tertiary hover:border-primary-400 hover:text-primary-600'}" title="Transparent">T</button>
          </div>
        `;
      } else if (token.type === 'range') {
        const dispVal = token.unit ? `${token.default}${token.unit}` : `${token.default}`;
        cell.innerHTML = `
          <label class="flex items-baseline justify-between text-[11px] font-mono text-text-secondary mb-1 gap-1">
            <span class="truncate" title="${token.var}">${token.var}</span>
            <span id="${uid}-val" class="text-text-tertiary flex-shrink-0">${dispVal}</span>
          </label>
          <input type="range" id="${uid}" min="${token.min}" max="${token.max}" step="${token.step}" value="${token.default}" class="w-full accent-primary-500 h-1.5" />
        `;
      } else if (token.type === 'font') {
        const opts = token.options.map(o => `<option value="${o.value}" data-google="${o.google || ''}" style="font-family:${o.value}">${o.label}</option>`).join('');
        cell.className = 'sm:col-span-2';
        cell.innerHTML = `
          <label class="block text-[11px] font-mono text-text-secondary mb-1 truncate" title="${token.var}">${token.var}</label>
          <select id="${uid}" class="w-full text-sm border border-border-default dark:border-secondary-600 rounded-lg px-3 py-2 bg-white dark:bg-secondary-800 focus:border-primary-500 focus:outline-none cursor-pointer">${opts}</select>
          <p id="${uid}-preview" class="mt-1.5 text-base text-text-primary truncate" style="font-family:${token.default}">AaBbCcDd 0123 - Hızlı kahverengi tilki</p>
        `;
      } else {
        cell.innerHTML = `
          <label class="block text-[11px] font-mono text-text-secondary mb-1 truncate" title="${token.var}">${token.var}</label>
          <input type="text" id="${uid}" value="${token.default}" class="w-full text-[11px] font-mono border border-border-default dark:border-secondary-600 rounded px-2 py-1.5 bg-white dark:bg-secondary-800 focus:border-primary-500 focus:outline-none" />
        `;
      }
      return cell;
    }

    // Render grouped dropdowns
    tokenCategories.forEach((cat, ci) => {
      const catGroups = cat.groupNames.map(name => {
        const gi = tokenGroups.findIndex(g => g.name === name);
        return gi >= 0 ? { group: tokenGroups[gi], gi } : null;
      }).filter(Boolean);
      if (catGroups.length === 0) return;

      const totalTokens = catGroups.reduce((sum, e) => sum + e.group.tokens.length, 0);
      const isFirst = ci === 0;
      const hasMultiple = catGroups.length > 1;

      const card = document.createElement('div');
      card.className = 'border border-border-default dark:border-secondary-700 rounded-xl bg-white dark:bg-secondary-900 overflow-hidden';

      // Category header (toggle)
      const header = document.createElement('button');
      header.type = 'button';
      header.className = 'w-full flex items-center justify-between px-5 py-4 text-left hover:bg-surface-raised dark:hover:bg-secondary-800 transition-colors cursor-pointer';
      header.innerHTML = `
        <span class="flex items-center gap-2">
          <span class="text-lg">${cat.icon}</span>
          <span class="text-base font-bold">${cat.name}</span>
          <span class="text-[10px] text-text-tertiary bg-surface-raised dark:bg-secondary-700 px-2 py-0.5 rounded-full">${totalTokens} token</span>
        </span>
        <svg class="ctrl-cat-chevron w-5 h-5 text-text-tertiary transition-transform ${isFirst ? 'rotate-90' : ''}" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m9 5 7 7-7 7"/></svg>
      `;
      card.appendChild(header);

      // Body (collapsible)
      const body = document.createElement('div');
      body.className = isFirst ? '' : 'hidden';

      const catTabs = [];
      const catPanels = [];

      // Tab bar
      if (hasMultiple) {
        const tabBar = document.createElement('div');
        tabBar.className = 'flex overflow-x-auto scrollbar-hide border-b border-border-default dark:border-secondary-700 px-2';
        tabBar.setAttribute('role', 'tablist');
        catGroups.forEach((entry, idx) => {
          const isFirstTab = idx === 0;
          const tabKey = `cat${ci}-g${entry.gi}`;
          const tab = document.createElement('button');
          tab.type = 'button';
          tab.setAttribute('role', 'tab');
          tab.setAttribute('data-ctrl-cat-tab', tabKey);
          tab.className = isFirstTab
            ? 'flex items-center gap-1.5 px-3 py-2.5 text-xs font-semibold whitespace-nowrap cursor-pointer transition-colors border-b-2 text-primary-600 border-primary-500'
            : 'flex items-center gap-1.5 px-3 py-2.5 text-xs font-medium whitespace-nowrap cursor-pointer transition-colors border-b-2 border-transparent text-text-secondary hover:text-text-primary hover:border-border-strong';
          tab.innerHTML = `<span>${entry.group.name}</span><span class="text-[9px] bg-surface-raised dark:bg-secondary-700 text-text-tertiary px-1.5 py-0.5 rounded-full">${entry.group.tokens.length}</span>`;
          tabBar.appendChild(tab);
          catTabs.push(tab);
        });
        body.appendChild(tabBar);
      }

      // Panels
      const panelsWrap = document.createElement('div');
      catGroups.forEach((entry, idx) => {
        const isFirstPanel = idx === 0;
        const panelKey = `cat${ci}-g${entry.gi}`;
        const panel = document.createElement('div');
        panel.setAttribute('data-ctrl-cat-panel', panelKey);
        panel.className = 'px-5 py-4';
        panel.style.display = isFirstPanel ? 'block' : 'none';

        const grid = document.createElement('div');
        grid.className = 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-4 gap-y-3';
        entry.group.tokens.forEach((token, ti) => {
          grid.appendChild(buildTokenCell(`ctrl-${entry.gi}-${ti}`, token));
        });
        panel.appendChild(grid);
        panelsWrap.appendChild(panel);
        catPanels.push(panel);
      });
      body.appendChild(panelsWrap);

      // Tab switching
      if (hasMultiple) {
        catTabs.forEach(tab => {
          tab.addEventListener('click', () => {
            const target = tab.getAttribute('data-ctrl-cat-tab');
            catTabs.forEach(t => { t.classList.remove('text-primary-600', 'border-primary-500', 'font-semibold'); t.classList.add('text-text-secondary', 'border-transparent', 'font-medium'); });
            tab.classList.add('text-primary-600', 'border-primary-500', 'font-semibold');
            tab.classList.remove('text-text-secondary', 'border-transparent', 'font-medium');
            catPanels.forEach(p => p.style.display = 'none');
            const targetPanel = panelsWrap.querySelector(`[data-ctrl-cat-panel="${target}"]`);
            if (targetPanel) targetPanel.style.display = 'block';
          });
        });
      }

      card.appendChild(body);

      // Toggle collapse
      const chevron = header.querySelector('.ctrl-cat-chevron');
      header.addEventListener('click', () => { body.classList.toggle('hidden'); chevron.classList.toggle('rotate-90'); });

      controlsContainer.appendChild(card);
    });

    // ──── Initialize controls from ACTUAL computed CSS values ────
    const computed = getComputedStyle(root);
    tokenGroups.forEach((group, gi) => {
      group.tokens.forEach((token, ti) => {
        const uid = `ctrl-${gi}-${ti}`;
        const input = document.getElementById(uid);
        if (!input) return;
        const rawVal = computed.getPropertyValue(token.var).trim();
        if (!rawVal) return;
        if (token.type === 'color') {
          const classified = classifyColorValue(rawVal, token.default);
          const textInp = document.getElementById(`${uid}-text`);
          const swatch = document.getElementById(`${uid}-swatch`);
          const transpBtn = document.getElementById(`${uid}-transp`);
          if (textInp) textInp.value = classified.display || rawVal;
          if (swatch) {
            if (!classified.isOpaque) { swatch.classList.add('ds-checker-bg-sm'); swatch.style.backgroundColor = 'transparent'; }
            else { swatch.classList.remove('ds-checker-bg-sm'); swatch.style.backgroundColor = classified.hex || rawVal; }
          }
          if (classified.hex) input.value = classified.hex;
          if (transpBtn) {
            const isT = (classified.display === 'transparent');
            transpBtn.className = 'flex-shrink-0 w-6 h-6 rounded border text-[10px] font-bold leading-none flex items-center justify-center transition-colors ' +
              (isT ? 'bg-primary-100 border-primary-400 text-primary-700' : 'border-border-default text-text-tertiary hover:border-primary-400 hover:text-primary-600');
          }
        } else if (token.type === 'range') {
          const num = parseFloat(rawVal);
          if (!isNaN(num)) {
            input.value = num;
            const valSpan = document.getElementById(`${uid}-val`);
            if (valSpan) valSpan.textContent = token.unit ? `${num}${token.unit}` : `${num}`;
          }
        } else if (token.type === 'font') {
          const normalizedRaw = rawVal.replace(/['"]/g, '').toLowerCase();
          for (const opt of input.options) {
            const normalizedOpt = opt.value.replace(/['"]/g, '').toLowerCase();
            if (normalizedRaw === normalizedOpt || normalizedRaw.startsWith(normalizedOpt.split(',')[0].trim())) { input.value = opt.value; break; }
          }
          const preview = document.getElementById(`${uid}-preview`);
          if (preview) preview.style.fontFamily = rawVal;
        } else {
          input.value = rawVal;
        }
      });
    });

    // ──── Bind inputs to CSS var updates ────
    tokenGroups.forEach((group, gi) => {
      group.tokens.forEach((token, ti) => {
        const uid = `ctrl-${gi}-${ti}`;
        const input = document.getElementById(uid);
        if (!input) return;
        if (token.type === 'font') {
          input.addEventListener('change', () => {
            const value = input.value;
            const sel = input.options[input.selectedIndex];
            const googleParam = sel?.getAttribute('data-google');
            if (googleParam) loadGoogleFont(googleParam);
            const preview = document.getElementById(`${uid}-preview`);
            if (preview) preview.style.fontFamily = value;
            root.style.setProperty(token.var, value);
            if (token.var === '--font-sans') root.style.setProperty('--default-font-family', value);
            else if (token.var === '--font-mono') root.style.setProperty('--default-mono-font-family', value);
          });
        } else if (token.type === 'color') {
          const textInp = document.getElementById(`${uid}-text`);
          const transpBtn = document.getElementById(`${uid}-transp`);
          input.addEventListener('input', () => applyColorValue(uid, token, input.value));
          if (textInp) textInp.addEventListener('change', () => applyColorValue(uid, token, textInp.value.trim()));
          if (transpBtn) transpBtn.addEventListener('click', () => {
            const current = textInp ? textInp.value.trim() : '';
            if (current === 'transparent') {
              applyColorValue(uid, token, token.default === 'transparent' ? '#ffffff' : token.default);
            } else {
              applyColorValue(uid, token, 'transparent');
            }
          });
        } else {
          const handler = () => {
            let value;
            if (token.type === 'range') {
              value = token.unit ? `${input.value}${token.unit}` : input.value;
              const valSpan = document.getElementById(`${uid}-val`);
              if (valSpan) valSpan.textContent = value;
            } else {
              value = input.value;
            }
            root.style.setProperty(token.var, value);
          };
          input.addEventListener('input', handler);
        }
      });
    });

    // ──── Helper: set a token's control UI + CSS var ────
    function setTokenValue(gi, ti, value) {
      const token = tokenGroups[gi]?.tokens[ti];
      if (!token) return;
      const uid = `ctrl-${gi}-${ti}`;
      const input = document.getElementById(uid);
      if (!input) return;

      if (token.type === 'color') {
        applyColorValue(uid, token, value);
      } else if (token.type === 'range') {
        const num = parseFloat(value);
        if (!isNaN(num)) input.value = num;
        const display = token.unit ? `${num}${token.unit}` : `${num}`;
        const valSpan = document.getElementById(`${uid}-val`);
        if (valSpan) valSpan.textContent = display;
        root.style.setProperty(token.var, value);
      } else if (token.type === 'font') {
        // Try to match value to an option
        const normalizedVal = value.replace(/['"]/g, '').toLowerCase();
        for (const opt of input.options) {
          const normalizedOpt = opt.value.replace(/['"]/g, '').toLowerCase();
          if (normalizedVal === normalizedOpt || normalizedVal.startsWith(normalizedOpt.split(',')[0].trim())) {
            input.value = opt.value;
            break;
          }
        }
        const preview = document.getElementById(`${uid}-preview`);
        if (preview) preview.style.fontFamily = value;
        // Load Google Font if needed
        const sel = input.options[input.selectedIndex];
        const googleParam = sel?.getAttribute('data-google');
        if (googleParam) loadGoogleFont(googleParam);
        root.style.setProperty(token.var, value);
        if (token.var === '--font-sans') root.style.setProperty('--default-font-family', value);
        if (token.var === '--font-mono') root.style.setProperty('--default-mono-font-family', value);
      } else {
        input.value = value;
        root.style.setProperty(token.var, value);
      }
    }

    // ──── Helper: reset a token to factory default ────
    function resetTokenToDefault(gi, ti) {
      const token = tokenGroups[gi]?.tokens[ti];
      if (!token) return;
      const val = token.type === 'range' && token.unit ? `${token.default}${token.unit}` : `${token.default}`;
      setTokenValue(gi, ti, val);
    }

    // ──── Helper: reset a token to its default value ────
    // Uses token.default directly (style.css is not loaded, so getComputedStyle has no fallbacks)
    function resetControl(uid, token) {
      if (token.default == null) return;
      const defaultVal = token.type === 'range' && token.unit
        ? `${token.default}${token.unit}`
        : `${token.default}`;
      root.style.setProperty(token.var, defaultVal);
      pendingChanges.delete(token.var);
      const input = document.getElementById(uid);
      if (!input) return;
      if (token.type === 'color') {
        const classified = classifyColorValue(defaultVal, token.default);
        const cssValue = classified.display || defaultVal;
        root.style.setProperty(token.var, cssValue);
        const picker = document.getElementById(`${uid}-picker`);
        const textInp = document.getElementById(uid);
        const checker = document.getElementById(`${uid}-checker`);
        const transpBtn = document.getElementById(`${uid}-transp`);
        if (textInp) textInp.value = cssValue;
        if (classified.isOpaque && classified.hex) {
          if (picker) { picker.value = classified.hex; picker.style.visibility = 'visible'; }
          if (checker) checker.classList.add('hidden');
        } else {
          if (picker) picker.style.visibility = 'hidden';
          if (checker) checker.classList.remove('hidden');
        }
        if (transpBtn) {
          const isT = cssValue === 'transparent';
          transpBtn.className = 'flex-shrink-0 w-6 h-6 rounded border text-[10px] font-bold leading-none flex items-center justify-center transition-colors ds-checker-bg-sm ' +
            (isT ? 'bg-primary-100 border-primary-400 text-primary-700' : 'border-border-default text-text-tertiary hover:border-primary-400 hover:text-primary-600');
        }
      } else if (token.type === 'range') {
        const num = parseFloat(defaultVal);
        if (!isNaN(num)) {
          input.value = num;
          const valSpan = document.getElementById(`${uid}-val`);
          if (valSpan) valSpan.textContent = token.unit ? `${num}${token.unit}` : `${num}`;
        }
      } else if (token.type === 'font') {
        const normalizedRaw = defaultVal.replace(/['"]/g, '').toLowerCase();
        for (const opt of input.options) {
          const normalizedOpt = opt.value.replace(/['"]/g, '').toLowerCase();
          if (normalizedRaw === normalizedOpt || normalizedRaw.startsWith(normalizedOpt.split(',')[0].trim())) {
            input.value = opt.value;
            break;
          }
        }
        const preview = document.getElementById(`${uid}-preview`);
        if (preview) preview.style.fontFamily = defaultVal;
        const sel = input.options[input.selectedIndex];
        const googleParam = sel?.getAttribute('data-google');
        if (googleParam) loadGoogleFont(googleParam);
        if (token.var === '--font-sans') root.style.setProperty('--default-font-family', defaultVal);
        if (token.var === '--font-mono') root.style.setProperty('--default-mono-font-family', defaultVal);
      } else {
        input.value = defaultVal;
      }
    }

    function resetTokenToFile(gi, ti) {
      const token = tokenGroups[gi]?.tokens[ti];
      if (!token) return;
      resetControl(`ctrl-${gi}-${ti}`, token);
    }

    // ──── Reset section editor tokens ────
    function resetSectionToken(si, ti) {
      const sec = sectionEditors[si];
      if (!sec) return;
      const token = sec.tokens[ti];
      if (!token) return;
      resetControl(`sec-${si}-${ti}`, token);
    }

    function resetSection(si) {
      const sec = sectionEditors[si];
      if (!sec) return;
      sec.tokens.forEach((_, ti) => resetSectionToken(si, ti));
    }

    // ──── Reset All (back to CSS file values) ────
    document.getElementById('reset-all-btn')?.addEventListener('click', () => {
      tokenGroups.forEach((group, gi) => {
        group.tokens.forEach((_, ti) => resetTokenToFile(gi, ti));
      });
      sectionEditors.forEach((_, si) => resetSection(si));
      componentEditors.forEach((comp, ci) => {
        comp.tokens.forEach((token, ti) => resetControl(`comp-${ci}-${ti}`, token));
        if (comp.outlineTokens) {
          comp.outlineTokens.forEach((token, ti) => resetControl(`comp-${ci}-outline-${ti}`, token));
        }
      });
      pendingChanges.clear();
      updateSaveButton();
      showToast('↺', 'Sifirlandi', 'Tum kontroller CSS dosyasindaki degerlere donduruldu.', false);
    });

    // ──── Build preset tabs ────
    let activePresetIndex = -1;
    const presetContainer = document.getElementById('preset-tabs');
    if (presetContainer) {
      themePresets.forEach((preset, pi) => {
        const tab = document.createElement('button');
        tab.type = 'button';
        tab.className = 'inline-flex items-center gap-1.5 px-4 py-2 text-sm font-semibold border border-border-default rounded-lg hover:bg-primary-50 hover:border-primary-400 hover:text-primary-700 transition-all dark:hover:bg-secondary-800 dark:hover:border-secondary-500';
        tab.setAttribute('data-preset', pi.toString());
        tab.innerHTML = `<span>${preset.icon}</span> ${preset.name}`;
        tab.title = preset.desc;
        tab.addEventListener('click', () => applyPreset(pi));
        presetContainer.appendChild(tab);
      });
    }

    // ──── Apply preset ────
    function applyPreset(pi) {
      const preset = themePresets[pi];
      if (!preset) return;

      // First: reset everything to CSS file values
      tokenGroups.forEach((group, gi) => {
        group.tokens.forEach((_, ti) => {
          const token = tokenGroups[gi].tokens[ti];
          root.style.removeProperty(token.var);
          pendingChanges.delete(token.var);
        });
      });

      if (pi === 0) {
        // "Varsayılan" preset: apply factory defaults for ALL tokens
        tokenGroups.forEach((group, gi) => {
          group.tokens.forEach((token, ti) => {
            resetTokenToDefault(gi, ti);
          });
        });
      } else {
        // Apply only the overrides in this preset
        const overrides = preset.overrides;
        // First read CSS file values for all controls
        tokenGroups.forEach((group, gi) => {
          group.tokens.forEach((_, ti) => resetTokenToFile(gi, ti));
        });
        // Clear pending from the resetToFile calls
        pendingChanges.clear();
        // Then apply overrides
        for (const [varName, value] of Object.entries(overrides)) {
          // Find which token this var belongs to
          tokenGroups.forEach((group, gi) => {
            group.tokens.forEach((token, ti) => {
              if (token.var === varName) {
                setTokenValue(gi, ti, value);
              }
            });
          });
        }
      }
      updateSaveButton();

      // Highlight active tab
      activePresetIndex = pi;
      document.querySelectorAll('#preset-tabs button').forEach((btn, i) => {
        if (i === pi) {
          btn.classList.add('ring-2', 'ring-primary-500', 'bg-primary-50', 'border-primary-400', 'text-primary-700');
          btn.classList.remove('border-border-default');
        } else {
          btn.classList.remove('ring-2', 'ring-primary-500', 'bg-primary-50', 'border-primary-400', 'text-primary-700');
          btn.classList.add('border-border-default');
        }
      });

      showToast(preset.icon, `"${preset.name}" uygulandi`, `${Object.keys(preset.overrides).length || 'Tum'} degisken ayarlandi. Kaydetmek icin butonuna tiklayin.`, false);
    }
  }

  // ══════════════════════════════════════════════
  // COMPONENT EDITORS — per-component controls + live preview
  // ══════════════════════════════════════════════
  const compEditorsContainer = document.getElementById('component-editors');
  if (compEditorsContainer) {
    componentEditors.forEach((comp, ci) => {
      // Merge all tokens (main + outline if any)
      const allTokens = [...comp.tokens, ...(comp.outlineTokens || [])];

      const card = document.createElement('div');
      card.className = 'border border-border-default dark:border-secondary-700 rounded-xl bg-white dark:bg-secondary-900 overflow-hidden';
      card.innerHTML = `
        <button type="button" class="comp-editor-toggle w-full flex items-center justify-between px-5 py-4 text-left hover:bg-surface-raised dark:hover:bg-secondary-800 transition-colors">
          <span class="flex items-center gap-2">
            <span class="text-lg">${comp.icon}</span>
            <span class="text-base font-bold">${comp.name}</span>
            <span class="text-[10px] text-text-tertiary bg-surface-raised dark:bg-secondary-700 px-2 py-0.5 rounded-full">${allTokens.length} kontrol</span>
          </span>
          <svg class="comp-chevron w-5 h-5 text-text-tertiary transition-transform rotate-90" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m9 5 7 7-7 7"/></svg>
        </button>
        <div class="comp-editor-body px-5 pb-5">
          <!-- Controls -->
          <div class="comp-controls grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-x-4 gap-y-3 mb-5"></div>
          ${comp.outlineTokens ? '<hr class="border-border-default mb-4 -mx-5">' : ''}
          ${comp.outlineTokens ? '<p class="text-[10px] font-semibold text-text-tertiary uppercase tracking-wider mb-3">Outline Varyant</p><div class="comp-outline-controls grid grid-cols-2 sm:grid-cols-4 gap-x-4 gap-y-3 mb-5"></div>' : ''}
          <!-- Preview -->
          <div class="border border-dashed border-border-default rounded-lg p-5 bg-surface-muted dark:bg-secondary-800">
            <p class="text-[10px] font-semibold text-text-tertiary uppercase tracking-wider mb-3">Önizleme</p>
            <div class="comp-preview-area"></div>
          </div>
        </div>
      `;

      // Toggle open/close
      const toggleBtn = card.querySelector('.comp-editor-toggle');
      const body = card.querySelector('.comp-editor-body');
      const chevron = card.querySelector('.comp-chevron');
      toggleBtn.addEventListener('click', () => {
        body.classList.toggle('hidden');
        chevron.classList.toggle('rotate-90');
      });

      // Build controls for main tokens
      const controlsGrid = card.querySelector('.comp-controls');
      comp.tokens.forEach((token, ti) => {
        const uid = `comp-${ci}-${ti}`;
        controlsGrid.appendChild(buildCompControl(uid, token));
      });

      // Build controls for outline tokens (if any)
      if (comp.outlineTokens) {
        const outlineGrid = card.querySelector('.comp-outline-controls');
        comp.outlineTokens.forEach((token, ti) => {
          const uid = `comp-${ci}-outline-${ti}`;
          outlineGrid.appendChild(buildCompControl(uid, token));
        });
      }

      // Render preview
      const previewArea = card.querySelector('.comp-preview-area');
      previewArea.innerHTML = comp.preview();

      compEditorsContainer.appendChild(card);

      // Initialize controls from computed CSS values
      initCompControls(ci, comp.tokens, 'comp');
      if (comp.outlineTokens) initCompControls(ci, comp.outlineTokens, 'comp', '-outline');
    });
  }

  // Classify and normalize a CSS color value
  // Returns { hex, display, isOpaque }
  function classifyColorValue(rawVal, fallbackDefault) {
    if (!rawVal || rawVal === 'initial' || rawVal === 'inherit' || rawVal === 'unset') {
      return fallbackDefault ? classifyColorValue(fallbackDefault) : { hex: null, display: '', isOpaque: true };
    }
    const val = rawVal.trim().toLowerCase();
    if (val === 'transparent') return { hex: null, display: 'transparent', isOpaque: false };
    if (val.startsWith('rgba')) {
      const m = val.match(/[\d.]+/g);
      if (m && m.length >= 4) {
        const alpha = parseFloat(m[3]);
        const hex = '#' + [m[0], m[1], m[2]].map(c => parseInt(c).toString(16).padStart(2, '0')).join('');
        const validHex = /^#[0-9a-fA-F]{6}$/.test(hex) ? hex : null;
        return alpha < 1 ? { hex: validHex, display: val, isOpaque: false } : { hex: validHex, display: hex, isOpaque: true };
      }
    }
    if (val.startsWith('rgb')) {
      const m = val.match(/\d+/g);
      if (m && m.length >= 3) {
        const hex = '#' + [m[0], m[1], m[2]].map(c => parseInt(c).toString(16).padStart(2, '0')).join('');
        return { hex, display: hex, isOpaque: true };
      }
    }
    if (val.startsWith('#') && (val.length === 4 || val.length === 5)) {
      const hex = `#${val[1]}${val[1]}${val[2]}${val[2]}${val[3]}${val[3]}`;
      if (val.length === 5) {
        const alpha = parseInt(val[4] + val[4], 16) / 255;
        return { hex, display: alpha < 1 ? val : hex, isOpaque: alpha >= 1 };
      }
      return { hex, display: hex, isOpaque: true };
    }
    if (/^#[0-9a-fA-F]{6}$/.test(val)) return { hex: val, display: val, isOpaque: true };
    if (/^#[0-9a-fA-F]{8}$/.test(val)) {
      const hex6 = val.slice(0, 7);
      const alpha = parseInt(val.slice(7, 9), 16) / 255;
      return { hex: hex6, display: alpha < 1 ? val : hex6, isOpaque: alpha >= 1 };
    }
    return { hex: null, display: val, isOpaque: true };
  }

  function applyColorValue(uid, token, value) {
    // Normalize: empty string reverts to default
    if (!value || value === '') value = token.default;
    const picker = document.getElementById(`${uid}-picker`);
    const textInp = document.getElementById(uid);
    const checker = document.getElementById(`${uid}-checker`);
    const transpBtn = document.getElementById(`${uid}-transp`);
    const classified = classifyColorValue(value, token.default);
    const cssValue = classified.display || value;
    root.style.setProperty(token.var, cssValue);
    if (textInp) textInp.value = cssValue;
    if (classified.isOpaque && classified.hex) {
      if (picker) { picker.value = classified.hex; picker.style.visibility = 'visible'; }
      if (checker) checker.classList.add('hidden');
    } else {
      if (picker) picker.style.visibility = 'hidden';
      if (checker) checker.classList.remove('hidden');
    }
    // Sync transparent button state
    if (transpBtn) {
      const isT = cssValue === 'transparent';
      transpBtn.className = 'flex-shrink-0 w-6 h-6 rounded border text-[10px] font-bold leading-none flex items-center justify-center transition-colors ds-checker-bg-sm ' +
        (isT ? 'bg-primary-100 border-primary-400 text-primary-700' : 'border-border-default text-text-tertiary hover:border-primary-400 hover:text-primary-600');
    }
  }

  function buildCompControl(uid, token) {
    const cell = document.createElement('div');
    if (token.type === 'color') {
      const isTransp = token.default === 'transparent';
      cell.innerHTML = `
        <label class="block text-[11px] font-semibold text-text-secondary mb-1">${token.label}</label>
        <div class="flex items-center gap-1.5">
          <div class="relative flex-shrink-0">
            <input type="color" id="${uid}-picker" class="w-7 h-7 rounded cursor-pointer border border-border-default p-0" value="${isTransp ? '#ffffff' : token.default}" style="visibility:${isTransp ? 'hidden' : 'visible'}" />
            <div id="${uid}-checker" class="absolute inset-0 rounded pointer-events-none ${isTransp ? '' : 'hidden'} ds-checker-bg"></div>
          </div>
          <input type="text" id="${uid}" value="${token.default}" class="flex-1 min-w-0 text-[10px] font-mono border border-border-default dark:border-secondary-600 rounded px-1.5 py-1 bg-white dark:bg-secondary-800 focus:border-primary-500 focus:outline-none" />
          <button type="button" id="${uid}-transp" class="flex-shrink-0 w-6 h-6 rounded border text-[10px] font-bold leading-none flex items-center justify-center transition-colors ds-checker-bg-sm ${isTransp ? 'bg-primary-100 border-primary-400 text-primary-700' : 'border-border-default text-text-tertiary hover:border-primary-400 hover:text-primary-600'}" title="Transparent">T</button>
        </div>
      `;
      const picker = cell.querySelector(`#${uid}-picker`);
      const textInp = cell.querySelector(`#${uid}`);
      const transpBtn = cell.querySelector(`#${uid}-transp`);
      picker.addEventListener('input', () => applyColorValue(uid, token, picker.value));
      textInp.addEventListener('change', () => applyColorValue(uid, token, textInp.value.trim()));
      transpBtn.addEventListener('click', () => {
        const current = textInp.value.trim();
        if (current === 'transparent') {
          applyColorValue(uid, token, token.default === 'transparent' ? '#ffffff' : token.default);
        } else {
          applyColorValue(uid, token, 'transparent');
        }
      });
    } else if (token.type === 'range') {
      const dispVal = token.unit ? `${token.default}${token.unit}` : `${token.default}`;
      cell.innerHTML = `
        <label class="flex items-baseline justify-between text-[11px] font-semibold text-text-secondary mb-1 gap-1">
          <span class="truncate">${token.label}</span>
          <span id="${uid}-val" class="text-text-tertiary flex-shrink-0 font-mono text-[10px]">${dispVal}</span>
        </label>
        <input type="range" id="${uid}" min="${token.min}" max="${token.max}" step="${token.step}" value="${token.default}" class="w-full accent-primary-500 h-1.5" />
      `;
      const inp = cell.querySelector('input');
      inp.addEventListener('input', () => {
        const v = token.unit ? `${inp.value}${token.unit}` : inp.value;
        root.style.setProperty(token.var, v);
        const valSpan = document.getElementById(`${uid}-val`);
        if (valSpan) valSpan.textContent = v;
      });
    } else {
      cell.innerHTML = `
        <label class="block text-[11px] font-semibold text-text-secondary mb-1">${token.label}</label>
        <input type="text" id="${uid}" value="${token.default}" class="w-full text-[10px] font-mono border border-border-default dark:border-secondary-600 rounded px-2 py-1 bg-white dark:bg-secondary-800 focus:border-primary-500 focus:outline-none" />
      `;
      const inp = cell.querySelector('input');
      inp.addEventListener('input', () => {
        root.style.setProperty(token.var, inp.value);
      });
    }
    return cell;
  }

  function initCompControls(ci, tokens, prefix, suffix = '') {
    const computed = getComputedStyle(root);
    tokens.forEach((token, ti) => {
      const uid = `${prefix}-${ci}${suffix}-${ti}`;
      const input = document.getElementById(uid);
      if (!input) return;
      const rawVal = computed.getPropertyValue(token.var).trim();
      if (!rawVal) return;
      if (token.type === 'color') {
        const classified = classifyColorValue(rawVal, token.default);
        const picker = document.getElementById(`${uid}-picker`);
        const checker = document.getElementById(`${uid}-checker`);
        const transpBtn = document.getElementById(`${uid}-transp`);
        if (input) input.value = classified.display || rawVal;
        if (classified.isOpaque && classified.hex) {
          if (picker) { picker.value = classified.hex; picker.style.visibility = 'visible'; }
          if (checker) checker.classList.add('hidden');
        } else {
          if (picker) picker.style.visibility = 'hidden';
          if (checker) checker.classList.remove('hidden');
        }
        if (transpBtn) {
          const isT = (classified.display === 'transparent');
          transpBtn.className = 'flex-shrink-0 w-6 h-6 rounded border text-[10px] font-bold leading-none flex items-center justify-center transition-colors ds-checker-bg-sm ' +
            (isT ? 'bg-primary-100 border-primary-400 text-primary-700' : 'border-border-default text-text-tertiary hover:border-primary-400 hover:text-primary-600');
        }
      } else if (token.type === 'range') {
        const num = parseFloat(rawVal);
        if (!isNaN(num)) {
          input.value = num;
          const valSpan = document.getElementById(`${uid}-val`);
          if (valSpan) valSpan.textContent = token.unit ? `${num}${token.unit}` : `${num}`;
        }
      } else {
        input.value = rawVal;
      }
    });
  }

  // ══════════════════════════════════════════════
  // SECTION EDITORS — per-page-section controls + mini live preview
  // ══════════════════════════════════════════════
  const sectionEditors = [
    {
      id: 'section-header',
      name: 'Header / TopBar',
      icon: '▔',
      tokens: [
        { var: '--header-bg', type: 'color', default: 'transparent', label: 'Arkaplan' },
        { var: '--header-scroll-bg', type: 'color', default: '#ffffff', label: 'Scroll Arkaplan' },
        { var: '--header-scroll-border', type: 'color', default: '#e5e5e5', label: 'Scroll Border' },
        { var: '--header-height', type: 'range', default: 64, min: 40, max: 100, step: 1, unit: 'px', label: 'Yükseklik' },
        { var: '--header-border-color', type: 'color', default: 'transparent', label: 'Alt Border' },
        { var: '--header-text-color', type: 'color', default: '#374151', label: 'Yazı Rengi' },
        { var: '--header-icon-color', type: 'color', default: '#374151', label: 'İkon Rengi' },
        { var: '--header-icon-hover-color', type: 'color', default: '#cc9900', label: 'İkon Hover' },
      ],
      preview: () => `
        <div class="space-y-2">
          <p class="text-[10px] text-text-tertiary font-semibold mb-1">Varsayılan (gradient üzerinde)</p>
          <div class="rounded-lg overflow-hidden border border-border-default">
            <div class="flex items-center justify-between px-4" style="background:var(--header-bg); height:var(--header-height); border-bottom:1px solid var(--header-border-color)">
              <span class="font-bold text-sm" style="color:var(--header-icon-hover-color)">iSTOC</span>
              <div class="flex items-center gap-3">
                <span class="text-xs" style="color:var(--header-text-color)">Deliver to: TR</span>
              </div>
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4" style="color:var(--header-icon-color)" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"/></svg>
                <span class="comp-btn text-[10px]" style="padding:4px 10px; border-radius:9999px">Join Free</span>
              </div>
            </div>
          </div>
          <p class="text-[10px] text-text-tertiary font-semibold mb-1">Scroll sonrası</p>
          <div class="rounded-lg overflow-hidden border border-border-default">
            <div class="flex items-center justify-between px-4" style="background:var(--header-scroll-bg); height:var(--header-height); border-bottom:1px solid var(--header-scroll-border)">
              <span class="font-bold text-sm" style="color:var(--header-icon-hover-color)">iSTOC</span>
              <div class="flex items-center gap-3">
                <span class="text-xs" style="color:var(--header-text-color)">Deliver to: TR</span>
              </div>
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4" style="color:var(--header-icon-color)" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"/></svg>
                <span class="comp-btn text-[10px]" style="padding:4px 10px; border-radius:9999px">Join Free</span>
              </div>
            </div>
          </div>
        </div>
      `
    },
    {
      id: 'section-subheader',
      name: 'SubHeader / Navigasyon',
      icon: '≡',
      tokens: [
        { var: '--subheader-bg', type: 'color', default: 'transparent', label: 'Arkaplan' },
        { var: '--subheader-border-color', type: 'color', default: 'transparent', label: 'Alt Border' },
        { var: '--nav-font-size', type: 'range', default: 0.8125, min: 0.5, max: 2, step: 0.0625, unit: 'rem', label: 'Font Size' },
        { var: '--nav-font-weight', type: 'range', default: 300, min: 100, max: 900, step: 100, unit: '', label: 'Font Weight' },
        { var: '--subheader-text-color', type: 'color', default: '#000000', label: 'Yazı Rengi' },
        { var: '--subheader-hover-color', type: 'color', default: '#a3a3a3', label: 'Hover Rengi' },
        { var: '--subheader-hover-bg', type: 'text', default: 'rgba(255, 255, 255, 0.8)', label: 'Hover Arkaplan' },
        { var: '--subheader-active-color', type: 'color', default: '#000000', label: 'Aktif Rengi' },
        { var: '--nav-text-color', type: 'color', default: '#000000', label: 'Nav Yazı Rengi' },
        { var: '--nav-hover-color', type: 'color', default: '#b38600', label: 'Nav Hover Rengi' },
      ],
      preview: () => `
        <div class="rounded-lg overflow-hidden border border-border-default">
          <div class="flex items-center justify-between px-4 py-2" style="background:var(--subheader-bg); border-bottom:1px solid var(--subheader-border-color)">
            <div class="flex items-center gap-4">
              <span style="color:var(--subheader-active-color);font-size:var(--nav-font-size);font-weight:var(--nav-font-weight)">☰ Tüm Kategoriler</span>
              <span style="color:var(--subheader-text-color);font-size:var(--nav-font-size);font-weight:var(--nav-font-weight)">Öne Çıkanlar</span>
              <span style="color:var(--subheader-text-color);font-size:var(--nav-font-size);font-weight:var(--nav-font-weight)">Trade Assurance</span>
            </div>
            <div class="flex items-center gap-4">
              <span style="color:var(--subheader-text-color);font-size:var(--nav-font-size);font-weight:var(--nav-font-weight)">Alıcı Merkezi</span>
              <span style="color:var(--subheader-text-color);font-size:var(--nav-font-size);font-weight:var(--nav-font-weight)">Yardım</span>
              <span style="color:var(--subheader-text-color);font-size:var(--nav-font-size);font-weight:var(--nav-font-weight)">Sell on iSTOC</span>
            </div>
          </div>
          <div class="flex gap-4 items-center px-4 py-2">
            <a href="#" class="comp-nav-link">Giriş Yap</a>
            <a href="#" class="comp-nav-link">Üye Ol</a>
            <span class="text-text-tertiary">|</span>
            <a href="#" class="comp-nav-link flex items-center gap-1">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"/></svg>
              Sepet (0)
            </a>
          </div>
        </div>
      `
    },
    {
      id: 'section-search',
      name: 'Arama Alanı',
      icon: '⌕',
      tokens: [
        { var: '--search-bg', type: 'color', default: 'transparent', label: 'Arkaplan' },
        { var: '--search-tab-color', type: 'color', default: '#6b7280', label: 'Tab Rengi' },
        { var: '--search-tab-active-color', type: 'color', default: '#cc9900', label: 'Aktif Tab' },
        { var: '--search-input-border-color', type: 'color', default: '#cc9900', label: 'Input Border' },
        { var: '--search-btn-gradient-start', type: 'color', default: '#f5a623', label: 'Buton Gradient Başı' },
        { var: '--search-btn-gradient-end', type: 'color', default: '#e8740c', label: 'Buton Gradient Sonu' },
      ],
      preview: () => `
        <div class="rounded-lg overflow-hidden border border-border-default p-4" style="background:var(--search-bg)">
          <div class="flex justify-center gap-4 mb-3">
            <span class="text-xs font-semibold pb-1" style="color:var(--search-tab-active-color); border-bottom:2px solid var(--search-tab-active-color)">Products</span>
            <span class="text-xs" style="color:var(--search-tab-color)">Manufacturers</span>
            <span class="text-xs" style="color:var(--search-tab-color)">Worldwide</span>
          </div>
          <div class="flex flex-col max-w-md mx-auto rounded-lg p-3" style="border:2px solid var(--search-input-border-color)">
            <input type="text" placeholder="Tekstil ve Konfeksiyon" class="text-xs border-0 bg-transparent outline-none mb-2 text-text-primary" readonly />
            <div class="flex items-center justify-between">
              <span class="text-[10px] text-text-tertiary">📷 Image Search</span>
              <span class="text-[10px] text-white font-semibold px-3 py-1 rounded-full" style="background:linear-gradient(135deg, var(--search-btn-gradient-start), var(--search-btn-gradient-end))">✦ Search</span>
            </div>
          </div>
        </div>
      `
    },
    {
      id: 'section-gradient',
      name: 'Header Gradient',
      icon: '◑',
      tokens: [
        { var: '--header-gradient-1', type: 'color', default: '#fff7ed', label: 'Renk 1 (0%)' },
        { var: '--header-gradient-2', type: 'color', default: '#f6f4e8', label: 'Renk 2 (25%)' },
        { var: '--header-gradient-3', type: 'color', default: '#fff1f2', label: 'Renk 3 (50%)' },
        { var: '--header-gradient-4', type: 'color', default: '#fbfaf0', label: 'Renk 4 (75%)' },
        { var: '--header-gradient-5', type: 'color', default: '#fff7ed', label: 'Renk 5 (100%)' },
      ],
      preview: () => `
        <div class="rounded-lg overflow-hidden h-24 flex items-center justify-center" style="background-image:linear-gradient(135deg, var(--header-gradient-1) 0%, var(--header-gradient-2) 25%, var(--header-gradient-3) 50%, var(--header-gradient-4) 75%, var(--header-gradient-5) 100%); background-size:300% 300%; animation:searchGradientShift 12s ease infinite;">
          <span class="text-xs font-medium text-text-secondary">Canlı Gradient Önizleme (animasyonlu)</span>
        </div>
      `
    },
    {
      id: 'section-mega',
      name: 'MegaMenu',
      icon: '▤',
      tokens: [
        { var: '--mega-bg', type: 'color', default: '#ffffff', label: 'Arkaplan' },
        { var: '--mega-sidebar-bg', type: 'color', default: '#f9fafb', label: 'Sidebar Arkaplan' },
        { var: '--mega-sidebar-hover-bg', type: 'color', default: '#ffffff', label: 'Sidebar Hover' },
        { var: '--mega-sidebar-active-bg', type: 'color', default: '#ffffff', label: 'Sidebar Aktif' },
        { var: '--mega-sidebar-active-border', type: 'color', default: '#e1b533', label: 'Sidebar Aktif Border' },
        { var: '--mega-border-color', type: 'color', default: '#e5e7eb', label: 'Border Rengi' },
        { var: '--mega-text-color', type: 'color', default: '#0a0a0a', label: 'Yazı Rengi' },
        { var: '--mega-heading-color', type: 'color', default: '#0a0a0a', label: 'Başlık Rengi' },
        { var: '--mega-body-text', type: 'color', default: '#6b7280', label: 'Gövde Yazı' },
        { var: '--mega-link-color', type: 'color', default: '#000000', label: 'Link Rengi' },
        { var: '--mega-link-hover-color', type: 'color', default: '#b38600', label: 'Link Hover' },
        { var: '--mega-icon-color', type: 'color', default: '#6b7280', label: 'İkon Rengi' },
        { var: '--mega-icon-bg', type: 'color', default: '#f3f4f6', label: 'İkon Arkaplan' },
        { var: '--mega-accent-color', type: 'color', default: '#ff0040', label: 'Vurgu Rengi' },
        { var: '--mega-accent-bg', type: 'color', default: '#37ff00', label: 'Vurgu Arkaplan' },
        { var: '--mega-card-hover-border', type: 'color', default: '#fcd34d', label: 'Kart Hover Border' },
        { var: '--mega-font-size', type: 'range', default: 0.8125, min: 0.5, max: 2, step: 0.0625, unit: 'rem', label: 'Font Size' },
        { var: '--mega-font-weight', type: 'range', default: 400, min: 100, max: 900, step: 100, unit: '', label: 'Font Weight' },
      ],
      preview: () => `
        <div class="rounded-lg overflow-hidden border" style="border-color:var(--mega-border-color)">
          <div class="flex" style="background:var(--mega-bg)">
            <div class="w-44 flex-shrink-0 py-2 border-r" style="background:var(--mega-sidebar-bg); border-color:var(--mega-border-color)">
              <div class="px-3 py-1.5 border-l-2" style="background:var(--mega-sidebar-active-bg); border-color:var(--mega-sidebar-active-border); font-size:var(--mega-font-size); font-weight:var(--mega-font-weight); color:var(--mega-text-color)">Apparel</div>
              <div class="px-3 py-1.5" style="font-size:var(--mega-font-size); font-weight:var(--mega-font-weight); color:var(--mega-text-color)">Electronics</div>
              <div class="px-3 py-1.5" style="background:var(--mega-sidebar-hover-bg); font-size:var(--mega-font-size); font-weight:var(--mega-font-weight); color:var(--mega-text-color)">Home &amp; Garden</div>
            </div>
            <div class="flex-1 p-3">
              <p class="text-[10px] font-semibold mb-1" style="color:var(--mega-heading-color)">Apparel &amp; Accessories</p>
              <p class="text-[9px] mb-2" style="color:var(--mega-body-text)">Explore top categories and trending products</p>
              <div class="flex gap-2 mb-2">
                <div class="flex-1 rounded px-2 py-1.5 border" style="background:var(--mega-bg); border-color:var(--mega-card-hover-border)">
                  <span class="text-[9px] font-medium" style="color:var(--mega-heading-color)">Featured</span>
                  <p class="text-[8px]" style="color:var(--mega-body-text)">New arrivals</p>
                </div>
                <div class="flex-1 rounded px-2 py-1.5" style="background:var(--mega-accent-bg)">
                  <span class="text-[9px] font-medium" style="color:var(--mega-accent-color)">Trade Assurance</span>
                  <p class="text-[8px]" style="color:var(--mega-body-text)">Protected orders</p>
                </div>
              </div>
              <div class="flex gap-3 mb-2">
                <div class="flex flex-col items-center gap-1">
                  <div class="w-10 h-10 rounded-full flex items-center justify-center" style="background:var(--mega-icon-bg); box-shadow:0 0 0 2px var(--mega-sidebar-active-border)">
                    <span class="text-[10px]" style="color:var(--mega-icon-color)">&#128241;</span>
                  </div>
                  <span class="text-[8px]" style="color:var(--mega-link-color)">Phones</span>
                </div>
                <div class="flex flex-col items-center gap-1">
                  <div class="w-10 h-10 rounded-full flex items-center justify-center" style="background:var(--mega-icon-bg)">
                    <span class="text-[10px]" style="color:var(--mega-icon-color)">&#128187;</span>
                  </div>
                  <span class="text-[8px]" style="color:var(--mega-link-color)">Laptops</span>
                </div>
                <div class="flex flex-col items-center gap-1">
                  <div class="w-10 h-10 rounded-full flex items-center justify-center" style="background:var(--mega-icon-bg)">
                    <span class="text-[10px]" style="color:var(--mega-icon-color)">&#127911;</span>
                  </div>
                  <span class="text-[8px]" style="color:var(--mega-link-color)">Audio</span>
                </div>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-[9px]" style="color:var(--mega-link-color)">Browse all &rarr;</span>
                <span class="text-[9px]" style="color:var(--mega-link-hover-color)">View deals</span>
              </div>
            </div>
          </div>
        </div>
      `
    },
    {
      id: 'section-hero',
      name: 'Hero',
      icon: '▣',
      tokens: [
        { var: '--hero-bg', type: 'color', default: '#ffffff', label: 'Arkaplan' },
        { var: '--hero-card-bg', type: 'color', default: '#ffffff', label: 'Kart Arkaplan' },
        { var: '--hero-card-border-color', type: 'color', default: '#e5e5e5', label: 'Kart Border' },
        { var: '--hero-title-color', type: 'color', default: '#111827', label: 'Başlık Rengi' },
      ],
      preview: () => `
        <div class="rounded-lg overflow-hidden border border-border-default p-4" style="background:var(--hero-bg)">
          <div class="flex gap-3">
            <div class="flex-1 h-24 rounded-lg flex items-center justify-center" style="background:var(--hero-card-bg); border:1px solid var(--hero-card-border-color)">
              <span class="text-[10px]" style="color:var(--hero-title-color)">Banner Slider</span>
            </div>
            <div class="w-32 h-24 rounded-lg flex items-center justify-center" style="background:var(--hero-card-bg); border:1px solid var(--hero-card-border-color)">
              <span class="text-[10px]" style="color:var(--hero-title-color)">Side Banner</span>
            </div>
          </div>
          <div class="flex gap-2 mt-2">
            <div class="flex-1 h-12 rounded-lg flex items-center justify-center" style="background:var(--hero-card-bg); border:1px solid var(--hero-card-border-color)">
              <span class="text-[10px]" style="color:var(--hero-title-color)">Category</span>
            </div>
            <div class="flex-1 h-12 rounded-lg flex items-center justify-center" style="background:var(--hero-card-bg); border:1px solid var(--hero-card-border-color)">
              <span class="text-[10px]" style="color:var(--hero-title-color)">Recommendation</span>
            </div>
          </div>
        </div>
      `
    },
    {
      id: 'section-catpopup',
      name: 'Category Popup',
      icon: '▦',
      tokens: [
        { var: '--catpopup-bg', type: 'color', default: '#ffffff', label: 'Arkaplan' },
        { var: '--catpopup-border', type: 'color', default: '#e5e7eb', label: 'Border Rengi' },
        { var: '--catpopup-heading', type: 'color', default: '#111827', label: 'Başlık Rengi' },
        { var: '--catpopup-text', type: 'color', default: '#4b5563', label: 'Yazı Rengi' },
        { var: '--catpopup-link', type: 'color', default: '#cc9900', label: 'Link Rengi' },
        { var: '--catpopup-link-hover', type: 'color', default: '#b38600', label: 'Link Hover' },
        { var: '--catpopup-icon', type: 'color', default: '#9ca3af', label: 'İkon Rengi' },
        { var: '--catpopup-product-bg', type: 'color', default: '#f3f4f6', label: 'Ürün Daire Arkaplan' },
        { var: '--catpopup-close-color', type: 'color', default: '#9ca3af', label: 'Kapat Butonu' },
      ],
      preview: () => `
        <div class="rounded-lg overflow-hidden border" style="border-color:var(--catpopup-border)">
          <div class="flex items-center justify-between px-3 py-2 border-b" style="background:var(--catpopup-bg); border-color:var(--catpopup-border)">
            <span class="text-[10px] font-bold" style="color:var(--catpopup-heading)">Categories</span>
            <div class="flex items-center gap-2">
              <span class="text-[9px]" style="color:var(--catpopup-link)">Browse all <span style="color:var(--catpopup-link-hover)">&rarr;</span></span>
              <span class="text-[10px] cursor-pointer" style="color:var(--catpopup-close-color)">&times;</span>
            </div>
          </div>
          <div class="flex h-32" style="background:var(--catpopup-bg)">
            <div class="w-28 flex-shrink-0 py-2 border-r" style="background:var(--catpopup-sidebar-bg); border-color:var(--catpopup-border)">
              <div class="px-3 py-1.5 text-[10px] border-l-2" style="background:var(--catpopup-sidebar-active-bg); border-color:var(--catpopup-sidebar-active-border); color:var(--catpopup-text)"><span style="color:var(--catpopup-icon)">&#9753;</span> Electronics</div>
              <div class="px-3 py-1.5 text-[10px]" style="color:var(--catpopup-text)"><span style="color:var(--catpopup-icon)">&#9742;</span> Apparel</div>
              <div class="px-3 py-1.5 text-[10px]" style="color:var(--catpopup-text)"><span style="color:var(--catpopup-icon)">&#9750;</span> Home</div>
            </div>
            <div class="flex-1 p-3">
              <p class="text-[10px] font-semibold mb-3" style="color:var(--catpopup-heading)">Electronics</p>
              <div class="flex gap-4">
                <div class="flex flex-col items-center gap-1">
                  <div class="w-10 h-10 rounded-full flex items-center justify-center" style="background:var(--catpopup-product-bg); box-shadow:0 0 0 2px var(--catpopup-sidebar-active-border)">
                    <span class="text-xs" style="color:var(--catpopup-icon)">&#128241;</span>
                  </div>
                  <span class="text-[8px]" style="color:var(--catpopup-link)">Phones</span>
                </div>
                <div class="flex flex-col items-center gap-1">
                  <div class="w-10 h-10 rounded-full flex items-center justify-center" style="background:var(--catpopup-product-bg)">
                    <span class="text-xs" style="color:var(--catpopup-icon)">&#128187;</span>
                  </div>
                  <span class="text-[8px]" style="color:var(--catpopup-link)">Laptops</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      `
    },
    {
      id: 'section-catbrowse',
      name: 'Category Browse',
      icon: '☰',
      tokens: [
        { var: '--catpopup-sidebar-bg', type: 'color', default: '#f9fafb', label: 'Arkaplan' },
        { var: '--catpopup-sidebar-hover-bg', type: 'color', default: '#f3f4f6', label: 'Hover Arkaplan' },
        { var: '--catpopup-sidebar-active-bg', type: 'color', default: '#ffffff', label: 'Aktif Arkaplan' },
        { var: '--catpopup-sidebar-active-border', type: 'color', default: '#cc9900', label: 'Aktif Border' },
        { var: '--catpopup-text', type: 'color', default: '#4b5563', label: 'Yazı Rengi' },
        { var: '--catpopup-icon', type: 'color', default: '#9ca3af', label: 'İkon Rengi' },
        { var: '--catpopup-sidebar-font-size', type: 'range', default: 0.6875, min: 0.5, max: 2, step: 0.0625, unit: 'rem', label: 'Font Size' },
        { var: '--catpopup-sidebar-font-weight', type: 'range', default: 400, min: 100, max: 900, step: 100, unit: '', label: 'Font Weight' },
        { var: '--catpopup-sidebar-padding-x', type: 'range', default: 0.125, min: 0, max: 3, step: 0.125, unit: 'rem', label: 'Padding X' },
        { var: '--catpopup-sidebar-padding-y', type: 'range', default: 0.25, min: 0, max: 2, step: 0.125, unit: 'rem', label: 'Padding Y' },
      ],
      preview: () => `
        <div class="rounded-lg overflow-hidden border" style="border-color:var(--catpopup-border); background:var(--catpopup-sidebar-bg)">
          <div class="py-2">
            <div class="border-l-2 transition-colors category-browse-item" style="background:var(--catpopup-sidebar-active-bg); border-color:var(--catpopup-sidebar-active-border); color:var(--catpopup-text); font-size:var(--catpopup-sidebar-font-size); font-weight:var(--catpopup-sidebar-font-weight); padding:var(--catpopup-sidebar-padding-y) var(--catpopup-sidebar-padding-x)"><span style="color:var(--catpopup-icon)">&#128737;</span>&nbsp; Apparel &amp; Accessories</div>
            <div class="category-browse-item transition-colors" style="color:var(--catpopup-text); font-size:var(--catpopup-sidebar-font-size); font-weight:var(--catpopup-sidebar-font-weight); padding:var(--catpopup-sidebar-padding-y) var(--catpopup-sidebar-padding-x)"><span style="color:var(--catpopup-icon)">&#128187;</span>&nbsp; Consumer Electronics</div>
            <div class="category-browse-item transition-colors" style="color:var(--catpopup-text); font-size:var(--catpopup-sidebar-font-size); font-weight:var(--catpopup-sidebar-font-weight); padding:var(--catpopup-sidebar-padding-y) var(--catpopup-sidebar-padding-x); background:var(--catpopup-sidebar-hover-bg)"><span style="color:var(--catpopup-icon)">&#127968;</span>&nbsp; Home &amp; Garden <span class="text-[8px] opacity-50">(hover)</span></div>
            <div class="category-browse-item transition-colors" style="color:var(--catpopup-text); font-size:var(--catpopup-sidebar-font-size); font-weight:var(--catpopup-sidebar-font-weight); padding:var(--catpopup-sidebar-padding-y) var(--catpopup-sidebar-padding-x)"><span style="color:var(--catpopup-icon)">&#9881;</span>&nbsp; Industrial &amp; Scientific</div>
            <div class="category-browse-item transition-colors" style="color:var(--catpopup-text); font-size:var(--catpopup-sidebar-font-size); font-weight:var(--catpopup-sidebar-font-weight); padding:var(--catpopup-sidebar-padding-y) var(--catpopup-sidebar-padding-x)"><span style="color:var(--catpopup-icon)">&#127942;</span>&nbsp; Sports &amp; Entertainment</div>
            <div class="category-browse-item transition-colors" style="color:var(--catpopup-text); font-size:var(--catpopup-sidebar-font-size); font-weight:var(--catpopup-sidebar-font-weight); padding:var(--catpopup-sidebar-padding-y) var(--catpopup-sidebar-padding-x)"><span style="color:var(--catpopup-icon)">&#128663;</span>&nbsp; Vehicles &amp; Accessories</div>
          </div>
        </div>
      `
    },
    {
      id: 'section-topdeals',
      name: 'Top Deals',
      icon: '🏷',
      tokens: [
        { var: '--topdeals-bg', type: 'color', default: '#ffffff', label: 'Arkaplan' },
        { var: '--topdeals-title-color', type: 'color', default: '#111827', label: 'Başlık Rengi' },
        { var: '--topdeals-subtitle-color', type: 'color', default: '#6b7280', label: 'Alt Başlık' },
        { var: '--topdeals-link-color', type: 'color', default: '#111827', label: 'Link Rengi' },
        { var: '--topdeals-card-bg', type: 'color', default: '#ffffff', label: 'Kart Arkaplan' },
        { var: '--topdeals-card-border', type: 'color', default: '#e5e5e5', label: 'Kart Border' },
        { var: '--topdeals-price-color', type: 'color', default: '#dc2626', label: 'Fiyat Rengi' },
        { var: '--topdeals-original-price-color', type: 'color', default: '#9ca3af', label: 'Eski Fiyat' },
        { var: '--topdeals-moq-color', type: 'color', default: '#6b7280', label: 'MOQ Rengi' },
        { var: '--topdeals-badge-bg', type: 'color', default: '#dc2626', label: 'Badge Arkaplan' },
        { var: '--topdeals-badge-text', type: 'color', default: '#ffffff', label: 'Badge Yazı' },
      ],
      preview: () => `
        <div class="rounded-lg p-3" style="background:var(--topdeals-bg)">
          <div class="flex items-center justify-between mb-2">
            <div>
              <p class="text-[12px] font-bold" style="color:var(--topdeals-title-color)">Top Deals</p>
              <p class="text-[9px]" style="color:var(--topdeals-subtitle-color)">Save big on trending products</p>
            </div>
            <span class="text-[9px] font-semibold" style="color:var(--topdeals-link-color)">View more &gt;</span>
          </div>
          <div class="flex gap-2">
            <div class="rounded-lg border overflow-hidden" style="width:80px; background:var(--topdeals-card-bg); border-color:var(--topdeals-card-border)">
              <div class="relative h-[50px] bg-gray-100 flex items-center justify-center">
                <span class="text-[16px]">📱</span>
                <span class="absolute top-0.5 left-0.5 text-[7px] px-1 rounded" style="background:var(--topdeals-badge-bg); color:var(--topdeals-badge-text)">-30%</span>
              </div>
              <div class="p-1.5">
                <p class="text-[10px] font-bold" style="color:var(--topdeals-price-color)">$31.50</p>
                <p class="text-[8px] line-through" style="color:var(--topdeals-original-price-color)">$45.00</p>
                <p class="text-[7px]" style="color:var(--topdeals-moq-color)">MOQ: 2</p>
              </div>
            </div>
            <div class="rounded-lg border overflow-hidden" style="width:80px; background:var(--topdeals-card-bg); border-color:var(--topdeals-card-border)">
              <div class="relative h-[50px] bg-gray-100 flex items-center justify-center">
                <span class="text-[16px]">🎧</span>
                <span class="absolute top-0.5 left-0.5 text-[7px] px-1 rounded" style="background:var(--topdeals-badge-bg); color:var(--topdeals-badge-text)">-25%</span>
              </div>
              <div class="p-1.5">
                <p class="text-[10px] font-bold" style="color:var(--topdeals-price-color)">$3.50</p>
                <p class="text-[8px] line-through" style="color:var(--topdeals-original-price-color)">$5.00</p>
                <p class="text-[7px]" style="color:var(--topdeals-moq-color)">MOQ: 5</p>
              </div>
            </div>
          </div>
        </div>
      `
    },
    {
      id: 'section-topranking',
      name: 'Top Ranking',
      icon: '🏆',
      tokens: [
        { var: '--topranking-bg', type: 'color', default: '#ffffff', label: 'Arkaplan' },
        { var: '--topranking-title-color', type: 'color', default: '#111827', label: 'Başlık Rengi' },
        { var: '--topranking-subtitle-color', type: 'color', default: '#6b7280', label: 'Alt Başlık' },
        { var: '--topranking-link-color', type: 'color', default: '#111827', label: 'Link Rengi' },
        { var: '--topranking-card-bg', type: 'color', default: '#f3f4f6', label: 'Kart Arkaplan' },
        { var: '--topranking-card-border', type: 'color', default: '#e5e5e5', label: 'Kart Border' },
        { var: '--topranking-badge-bg', type: 'color', default: '#111827', label: 'Badge Arkaplan' },
        { var: '--topranking-badge-text', type: 'color', default: '#ffffff', label: 'Badge Yazı' },
        { var: '--topranking-name-color', type: 'color', default: '#222222', label: 'İsim Rengi' },
        { var: '--topranking-label-color', type: 'color', default: '#666666', label: 'Etiket Rengi' },
      ],
      preview: () => `
        <div class="rounded-lg p-3" style="background:var(--topranking-bg)">
          <div class="flex items-center justify-between mb-2">
            <div>
              <p class="text-[12px] font-bold" style="color:var(--topranking-title-color)">Top Ranking</p>
              <p class="text-[9px]" style="color:var(--topranking-subtitle-color)">Navigate trends with data-driven rankings</p>
            </div>
            <span class="text-[9px] font-semibold" style="color:var(--topranking-link-color)">View more &gt;</span>
          </div>
          <div class="flex gap-1.5">
            <div class="rounded-lg border overflow-hidden" style="width:70px; background:var(--topranking-card-bg); border-color:var(--topranking-card-border); padding:6px 6px 8px;">
              <div class="relative h-[45px] rounded bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center mb-1">
                <span class="text-[14px]">📱</span>
                <span class="absolute bottom-0.5 left-1/2 -translate-x-1/2 text-[7px] font-black px-1 rounded" style="background:var(--topranking-badge-bg); color:var(--topranking-badge-text)">TOP</span>
              </div>
              <p class="text-[8px] font-semibold truncate" style="color:var(--topranking-name-color)">Electronics</p>
              <p class="text-[7px]" style="color:var(--topranking-label-color)">Hot selling</p>
            </div>
            <div class="rounded-lg border overflow-hidden" style="width:70px; background:var(--topranking-card-bg); border-color:var(--topranking-card-border); padding:6px 6px 8px;">
              <div class="relative h-[45px] rounded bg-gradient-to-br from-pink-50 to-pink-100 flex items-center justify-center mb-1">
                <span class="text-[14px]">👗</span>
                <span class="absolute bottom-0.5 left-1/2 -translate-x-1/2 text-[7px] font-black px-1 rounded" style="background:var(--topranking-badge-bg); color:var(--topranking-badge-text)">TOP</span>
              </div>
              <p class="text-[8px] font-semibold truncate" style="color:var(--topranking-name-color)">Fashion</p>
              <p class="text-[7px]" style="color:var(--topranking-label-color)">Rising trend</p>
            </div>
          </div>
        </div>
      `
    },
    {
      id: 'section-tailored',
      name: 'Tailored Selections',
      icon: '✦',
      tokens: [
        { var: '--tailored-bg', type: 'color', default: '#ffffff', label: 'Arkaplan' },
        { var: '--tailored-title-color', type: 'color', default: '#111827', label: 'Başlık Rengi' },
        { var: '--tailored-link-color', type: 'color', default: '#111827', label: 'Link Rengi' },
        { var: '--tailored-card-bg', type: 'color', default: '#ffffff', label: 'Kart Arkaplan' },
        { var: '--tailored-card-border', type: 'color', default: '#e5e5e5', label: 'Kart Border' },
        { var: '--tailored-collection-title-color', type: 'color', default: '#111827', label: 'Koleksiyon Başlığı' },
        { var: '--tailored-views-color', type: 'color', default: '#6b7280', label: 'Görüntülenme' },
        { var: '--tailored-price-color', type: 'color', default: '#111827', label: 'Fiyat Rengi' },
      ],
      preview: () => `
        <div class="rounded-lg p-3" style="background:var(--tailored-bg)">
          <div class="flex items-center justify-between mb-2">
            <p class="text-[12px] font-bold" style="color:var(--tailored-title-color)">Tailored Selections</p>
            <span class="text-[9px] font-semibold" style="color:var(--tailored-link-color)">View more &gt;</span>
          </div>
          <div class="rounded-lg border p-2" style="background:var(--tailored-card-bg); border-color:var(--tailored-card-border)">
            <p class="text-[9px] font-semibold mb-1" style="color:var(--tailored-collection-title-color)">Spring Collection 2025</p>
            <p class="text-[7px] mb-1.5" style="color:var(--tailored-views-color)">2.4K views</p>
            <div class="flex gap-1">
              <div class="h-[30px] w-[30px] rounded bg-gray-100 flex items-center justify-center text-[10px]">👕</div>
              <div class="h-[30px] w-[30px] rounded bg-gray-100 flex items-center justify-center text-[10px]">👖</div>
              <div class="h-[30px] w-[30px] rounded bg-gray-100 flex items-center justify-center text-[10px]">👟</div>
            </div>
            <p class="text-[8px] mt-1" style="color:var(--tailored-price-color)">$5.20 - $45.00</p>
          </div>
        </div>
      `
    },
    {
      id: 'section-productgrid',
      name: 'Product Grid',
      icon: '▦',
      tokens: [
        { var: '--product-bg', type: 'color', default: '#F8F8F8', label: 'Arkaplan' },
        { var: '--product-card-bg', type: 'color', default: '#ffffff', label: 'Kart Arkaplan' },
        { var: '--product-card-border', type: 'color', default: '#e5e5e5', label: 'Kart Border Rengi' },
        { var: '--product-card-radius', type: 'range', default: 12, min: 0, max: 32, step: 1, unit: 'px', label: 'Kart Radius' },
        { var: '--product-card-padding', type: 'range', default: 12, min: 4, max: 32, step: 1, unit: 'px', label: 'Kart Padding' },
        { var: '--product-card-border-width', type: 'range', default: 1, min: 0, max: 4, step: 1, unit: 'px', label: 'Border Kalınlık' },
        { var: '--product-grid-gap', type: 'range', default: 12, min: 4, max: 32, step: 1, unit: 'px', label: 'Grid Boşluk' },
        { var: '--product-title-color', type: 'color', default: '#111827', label: 'Başlık Rengi' },
        { var: '--product-title-size', type: 'range', default: 13, min: 10, max: 20, step: 1, unit: 'px', label: 'Başlık Boyut' },
        { var: '--product-title-weight', type: 'range', default: 500, min: 100, max: 900, step: 100, unit: '', label: 'Başlık Ağırlık' },
        { var: '--product-price-color', type: 'color', default: '#111827', label: 'Fiyat Rengi' },
        { var: '--product-price-size', type: 'range', default: 16, min: 12, max: 24, step: 1, unit: 'px', label: 'Fiyat Boyut' },
        { var: '--product-price-weight', type: 'range', default: 700, min: 100, max: 900, step: 100, unit: '', label: 'Fiyat Ağırlık' },
        { var: '--product-moq-color', type: 'color', default: '#6b7280', label: 'MOQ Rengi' },
        { var: '--product-moq-size', type: 'range', default: 11, min: 8, max: 16, step: 1, unit: 'px', label: 'MOQ Boyut' },
        { var: '--product-badge-bg', type: 'color', default: '#FFF3E0', label: 'Badge Arkaplan' },
        { var: '--product-badge-text', type: 'color', default: '#e65100', label: 'Badge Yazı' },
        { var: '--product-badge-size', type: 'range', default: 10, min: 8, max: 14, step: 1, unit: 'px', label: 'Badge Boyut' },
        { var: '--product-badge-radius', type: 'range', default: 2, min: 0, max: 16, step: 1, unit: 'px', label: 'Badge Radius' },
        { var: '--product-verified-color', type: 'color', default: '#cc9900', label: 'Doğrulanmış Rengi' },
        { var: '--product-verified-size', type: 'range', default: 11, min: 8, max: 16, step: 1, unit: 'px', label: 'Doğrulanmış Boyut' },
        { var: '--product-supplier-color', type: 'color', default: '#9ca3af', label: 'Tedarikçi Rengi' },
        { var: '--product-supplier-size', type: 'range', default: 10, min: 8, max: 14, step: 1, unit: 'px', label: 'Tedarikçi Boyut' },
      ],
      preview: () => `
        <div class="rounded-lg p-3" style="background:var(--product-bg)">
          <div class="flex gap-2">
            <div class="overflow-hidden" style="width:90px; background:var(--product-card-bg); border:var(--product-card-border-width) solid var(--product-card-border); border-radius:var(--product-card-radius);">
              <div class="h-[60px] bg-gradient-to-br from-amber-50 to-amber-100 flex items-center justify-center relative">
                <span class="text-[16px]">💎</span>
                <div class="absolute top-1 left-1 h-3.5 w-3.5 rounded-full bg-black/40 flex items-center justify-center">
                  <svg class="h-2 w-2 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9a2 2 0 0 1 2-2h2l1-2h8l1 2h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/><circle cx="12" cy="13" r="3"/></svg>
                </div>
              </div>
              <div style="padding:var(--product-card-padding)">
                <p class="line-clamp-2 leading-tight" style="color:var(--product-title-color); font-size:var(--product-title-size); font-weight:var(--product-title-weight)">Gold Plated Necklace Pendant</p>
                <div class="mt-1 px-1 py-0.5 inline-flex items-center gap-0.5" style="background:var(--product-badge-bg); color:var(--product-badge-text); font-size:var(--product-badge-size); border-radius:var(--product-badge-radius);">
                  <span>⚡</span><span>180-day lowest</span>
                </div>
                <p class="mt-1 leading-none" style="color:var(--product-price-color); font-size:var(--product-price-size); font-weight:var(--product-price-weight)">$1.80-2</p>
                <p class="mt-0.5 leading-none" style="color:var(--product-moq-color); font-size:var(--product-moq-size)">MOQ: 3 pcs</p>
                <div class="mt-1 flex items-center gap-0.5" style="color:var(--product-verified-color); font-size:var(--product-verified-size);">
                  <svg class="h-2.5 w-2.5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z" clip-rule="evenodd"/></svg>
                  <span>Verified · 5 yrs</span>
                </div>
              </div>
            </div>
            <div class="overflow-hidden" style="width:90px; background:var(--product-card-bg); border:var(--product-card-border-width) solid var(--product-card-border); border-radius:var(--product-card-radius);">
              <div class="h-[60px] bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center">
                <span class="text-[16px]">📱</span>
              </div>
              <div style="padding:var(--product-card-padding)">
                <p class="line-clamp-2 leading-tight" style="color:var(--product-title-color); font-size:var(--product-title-size); font-weight:var(--product-title-weight)">WiFi Security Camera 1080P</p>
                <p class="mt-1 leading-none" style="color:var(--product-price-color); font-size:var(--product-price-size); font-weight:var(--product-price-weight)">$8.50-12</p>
                <p class="mt-0.5 leading-none" style="color:var(--product-moq-color); font-size:var(--product-moq-size)">MOQ: 10 pcs</p>
                <p class="mt-1 leading-none" style="color:var(--product-supplier-color); font-size:var(--product-supplier-size)">7 yrs · CN</p>
              </div>
            </div>
          </div>
        </div>
      `
    },
    {
      id: 'section-footer',
      name: 'Footer',
      icon: '▁',
      tokens: [
        { var: '--footer-bg', type: 'color', default: '#111827', label: 'Arkaplan' },
        { var: '--footer-text-color', type: 'color', default: '#9ca3af', label: 'Yazı Rengi' },
        { var: '--footer-heading-color', type: 'color', default: '#ffffff', label: 'Başlık Rengi' },
        { var: '--footer-link-color', type: 'color', default: '#9ca3af', label: 'Link Rengi' },
        { var: '--footer-link-hover-color', type: 'color', default: '#ffffff', label: 'Link Hover' },
        { var: '--footer-border-color', type: 'color', default: '#1f2937', label: 'Border Rengi' },
      ],
      preview: () => `
        <div class="rounded-lg overflow-hidden p-4" style="background:var(--footer-bg)">
          <div class="grid grid-cols-4 gap-4 mb-3">
            <div>
              <p class="text-[10px] font-bold mb-1" style="color:var(--footer-heading-color)">Trade Services</p>
              <p class="text-[10px]" style="color:var(--footer-link-color)">Trade Assurance</p>
              <p class="text-[10px]" style="color:var(--footer-link-color)">Payments</p>
            </div>
            <div>
              <p class="text-[10px] font-bold mb-1" style="color:var(--footer-heading-color)">Get to Know Us</p>
              <p class="text-[10px]" style="color:var(--footer-link-color)">About iSTOC</p>
              <p class="text-[10px]" style="color:var(--footer-link-color)">Careers</p>
            </div>
            <div>
              <p class="text-[10px] font-bold mb-1" style="color:var(--footer-heading-color)">Sell on iSTOC</p>
              <p class="text-[10px]" style="color:var(--footer-link-color)">Start Selling</p>
              <p class="text-[10px]" style="color:var(--footer-link-color)">Seller Central</p>
            </div>
            <div>
              <p class="text-[10px] font-bold mb-1" style="color:var(--footer-heading-color)">Help</p>
              <p class="text-[10px]" style="color:var(--footer-link-color)">Help Center</p>
              <p class="text-[10px]" style="color:var(--footer-link-color)">Contact Us</p>
            </div>
          </div>
          <div class="pt-2" style="border-top:1px solid var(--footer-border-color)">
            <p class="text-[10px]" style="color:var(--footer-text-color)">© 2025 iSTOC. All rights reserved.</p>
          </div>
        </div>
      `
    },
  ];

  // Section groups config
  const sectionGroups = [
    { name: 'Header', icon: '▤', sectionIds: ['section-header', 'section-subheader', 'section-search', 'section-gradient'] },
    { name: 'İçerik / Sections', icon: '▦', sectionIds: ['section-mega', 'section-hero', 'section-catpopup', 'section-catbrowse', 'section-topdeals', 'section-topranking', 'section-tailored', 'section-productgrid'] },
    { name: 'Footer', icon: '▁', sectionIds: ['section-footer'] },
  ];

  // Build section editors UI — grouped dropdowns with internal tabs
  const sectionEditorsContainer = document.getElementById('section-editors');
  if (sectionEditorsContainer) {
    sectionGroups.forEach((group, gi) => {
      const isFirstGroup = gi === 0;
      const groupSections = group.sectionIds.map(id => {
        const si = sectionEditors.findIndex(s => s.id === id);
        return si >= 0 ? { sec: sectionEditors[si], si } : null;
      }).filter(Boolean);
      const totalTokens = groupSections.reduce((sum, s) => sum + s.sec.tokens.length, 0);
      const hasMultiple = groupSections.length > 1;

      // Collapsible card
      const card = document.createElement('div');
      card.className = 'border border-border-default dark:border-secondary-700 rounded-xl bg-white dark:bg-secondary-900 overflow-hidden';

      // Group header (toggle)
      const header = document.createElement('button');
      header.type = 'button';
      header.className = 'w-full flex items-center justify-between px-5 py-4 text-left hover:bg-surface-raised dark:hover:bg-secondary-800 transition-colors cursor-pointer';
      header.innerHTML = `
        <span class="flex items-center gap-2">
          <span class="text-lg">${group.icon}</span>
          <span class="text-base font-bold">${group.name}</span>
          <span class="text-[10px] text-text-tertiary bg-surface-raised dark:bg-secondary-700 px-2 py-0.5 rounded-full">${totalTokens} kontrol</span>
        </span>
        <svg class="sec-grp-chevron w-5 h-5 text-text-tertiary transition-transform ${isFirstGroup ? 'rotate-90' : ''}" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m9 5 7 7-7 7"/></svg>
      `;
      card.appendChild(header);

      // Group body (collapsible)
      const body = document.createElement('div');
      body.className = `sec-group-body${isFirstGroup ? '' : ' hidden'}`;

      // Tab bar (only if >1 section in group)
      const grpTabs = [];
      const grpPanels = [];

      if (hasMultiple) {
        const tabBar = document.createElement('div');
        tabBar.className = 'flex overflow-x-auto scrollbar-hide border-b border-border-default dark:border-secondary-700 px-2';
        tabBar.setAttribute('role', 'tablist');

        groupSections.forEach((entry, idx) => {
          const isFirstTab = idx === 0;
          const tabKey = `g${gi}-${entry.sec.id}`;
          const tab = document.createElement('button');
          tab.type = 'button';
          tab.setAttribute('role', 'tab');
          tab.setAttribute('data-sec-grp-tab', tabKey);
          tab.className = isFirstTab
            ? 'flex items-center gap-1.5 px-4 py-3 text-sm font-semibold whitespace-nowrap cursor-pointer transition-colors border-b-2 text-primary-600 border-primary-500'
            : 'flex items-center gap-1.5 px-4 py-3 text-sm font-medium whitespace-nowrap cursor-pointer transition-colors border-b-2 border-transparent text-text-secondary hover:text-text-primary hover:border-border-strong';
          tab.innerHTML = `
            <span class="text-sm">${entry.sec.icon}</span>
            <span class="text-xs font-medium">${entry.sec.name}</span>
            <span class="text-[9px] bg-surface-raised dark:bg-secondary-700 text-text-tertiary px-1.5 py-0.5 rounded-full">${entry.sec.tokens.length}</span>
          `;
          tabBar.appendChild(tab);
          grpTabs.push(tab);
        });

        body.appendChild(tabBar);
      }

      // Panels container
      const panelsWrap = document.createElement('div');

      groupSections.forEach((entry, idx) => {
        const isFirstPanel = idx === 0;
        const panelKey = `g${gi}-${entry.sec.id}`;
        const panel = document.createElement('div');
        panel.setAttribute('data-sec-grp-panel', panelKey);
        panel.id = entry.sec.id;
        panel.className = 'px-5 py-5';
        panel.style.display = isFirstPanel ? 'block' : 'none';
        panel.innerHTML = `
          <div class="flex items-center justify-between mb-3">
            <p class="text-[11px] font-semibold text-text-secondary">${entry.sec.name}</p>
            <button type="button" class="sec-reset-btn text-[10px] text-text-tertiary hover:text-error-500 transition-colors px-2 py-1 rounded hover:bg-error-50" data-sec-idx="${entry.si}">↺ Sıfırla</button>
          </div>
          <div class="sec-controls grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-x-4 gap-y-3 mb-5"></div>
          <div class="border border-dashed border-border-default rounded-lg p-4 bg-surface-muted dark:bg-secondary-800">
            <p class="text-[10px] font-semibold text-text-tertiary uppercase tracking-wider mb-3">Önizleme</p>
            <div class="sec-preview-area"></div>
          </div>
        `;

        // Build controls using GLOBAL si index
        const controlsGrid = panel.querySelector('.sec-controls');
        entry.sec.tokens.forEach((token, ti) => {
          const uid = `sec-${entry.si}-${ti}`;
          controlsGrid.appendChild(buildCompControl(uid, token));
        });

        // Preview
        const previewArea = panel.querySelector('.sec-preview-area');
        previewArea.innerHTML = entry.sec.preview();

        panelsWrap.appendChild(panel);
        grpPanels.push(panel);
      });

      body.appendChild(panelsWrap);

      // Tab switching scoped per group
      if (hasMultiple) {
        grpTabs.forEach(tab => {
          tab.addEventListener('click', () => {
            const target = tab.getAttribute('data-sec-grp-tab');
            // Deactivate all tabs in this group
            grpTabs.forEach(t => {
              t.classList.remove('text-primary-600', 'border-primary-500', 'font-semibold');
              t.classList.add('text-text-secondary', 'border-transparent', 'font-medium');
            });
            // Activate clicked tab
            tab.classList.add('text-primary-600', 'border-primary-500', 'font-semibold');
            tab.classList.remove('text-text-secondary', 'border-transparent', 'font-medium');
            // Hide all panels in this group, show target
            grpPanels.forEach(p => p.style.display = 'none');
            const targetPanel = panelsWrap.querySelector(`[data-sec-grp-panel="${target}"]`);
            if (targetPanel) targetPanel.style.display = 'block';
          });
        });
      }

      card.appendChild(body);

      // Toggle collapse
      const chevron = header.querySelector('.sec-grp-chevron');
      header.addEventListener('click', () => {
        body.classList.toggle('hidden');
        chevron.classList.toggle('rotate-90');
      });

      sectionEditorsContainer.appendChild(card);
    });

    // Init controls from computed styles (all sections, using global index)
    sectionEditors.forEach((sec, si) => {
      initCompControls(si, sec.tokens, 'sec');
    });

    // Wire up per-section reset buttons
    sectionEditorsContainer.querySelectorAll('.sec-reset-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        const si = parseInt(btn.getAttribute('data-sec-idx'));
        resetSection(si);
        updateSaveButton();
      });
    });
  }

  // ══════════════════════════════════════════════
  // GOOGLE FONT LOADER — dynamically loads fonts from Google Fonts CDN
  // ══════════════════════════════════════════════

  const loadedFonts = new Set();
  function loadGoogleFont(fontParam) {
    if (!fontParam || loadedFonts.has(fontParam)) return;
    loadedFonts.add(fontParam);
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = `https://fonts.googleapis.com/css2?family=${fontParam}&display=swap`;
    document.head.appendChild(link);
  }

  // ══════════════════════════════════════════════
  // SAVE TO style.css — writes changes to disk via Vite plugin
  // Vite HMR picks up the file change → home page updates automatically
  // ══════════════════════════════════════════════

  // Track which CSS variables have been modified
  const pendingChanges = new Map();

  // Override setProperty to track changes
  const origSetProperty = CSSStyleDeclaration.prototype.setProperty;
  root.style.setProperty = function(prop, value, priority) {
    if (prop.startsWith('--')) {
      pendingChanges.set(prop, value);
      updateSaveButton();
    }
    return origSetProperty.call(this, prop, value, priority);
  };

  function updateSaveButton() {
    const bar = document.getElementById('pending-bar');
    const barText = document.getElementById('pending-bar-text');
    if (bar && barText) {
      const count = pendingChanges.size;
      barText.textContent = `${count} değişiklik bekliyor`;
      if (count > 0) {
        bar.classList.add('ds-pending-bar--visible');
      } else {
        bar.classList.remove('ds-pending-bar--visible');
      }
    }
  }

  function showToast(icon, title, message, isError) {
    const toast = document.getElementById('save-toast');
    const ti = document.getElementById('toast-icon');
    const tt = document.getElementById('toast-title');
    const tm = document.getElementById('toast-message');
    if (!toast || !ti || !tt || !tm) return;
    ti.textContent = icon;
    tt.textContent = title;
    tm.textContent = message;
    toast.style.background = isError ? '#7f1d1d' : '#1a1a1a';
    toast.style.display = 'block';
    requestAnimationFrame(() => {
      toast.style.opacity = '1';
      toast.style.transform = 'translateY(0)';
    });
    setTimeout(() => {
      toast.style.opacity = '0';
      toast.style.transform = 'translateY(-8px)';
      setTimeout(() => { toast.style.display = 'none'; }, 300);
    }, 4000);
  }

  // Build Google Fonts @import URL(s) for any font changes in pending
  function buildGoogleFontImports(updates) {
    const fontUrls = [];
    // Check if --font-sans or --font-mono changed
    for (const varName of ['--font-sans', '--font-mono']) {
      if (!updates[varName]) continue;
      // Find matching token to get the google font param
      for (const group of tokenGroups) {
        for (const token of group.tokens) {
          if (token.var !== varName || token.type !== 'font') continue;
          for (const opt of token.options) {
            if (opt.value === updates[varName] && opt.google) {
              fontUrls.push(`family=${opt.google}`);
            }
          }
        }
      }
    }
    if (fontUrls.length === 0) return null;
    return `@import url('https://fonts.googleapis.com/css2?${fontUrls.join('&')}&display=swap');`;
  }

  async function saveToStyleCSS() {
    if (pendingChanges.size === 0) return;
    const btn = document.getElementById('pending-save-btn');
    const btnText = document.getElementById('save-btn-text');
    const count = pendingChanges.size;
    if (btn) btn.style.opacity = '0.6';
    if (btnText) btnText.textContent = 'Kaydediliyor...';

    try {
      const updates = Object.fromEntries(pendingChanges);
      // Add Google Font import URL if font changed
      const fontImport = buildGoogleFontImports(updates);
      if (fontImport) updates['__google_font_imports__'] = fontImport;
      // Remove --default-font-family from saves (it's auto-derived from --font-sans)
      delete updates['--default-font-family'];
      delete updates['--default-mono-font-family'];
      const res = await fetch('/__save-css', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(updates),
      });
      const data = await res.json();
      if (data.ok) {
        pendingChanges.clear();
        updateSaveButton();
        if (btnText) btnText.textContent = 'Kaydedildi!';
        showToast('✓', `${count} degisken kaydedildi!`, 'style.css guncellendi. Ana sayfa (localhost:5173) Vite HMR ile otomatik guncellenecek.', false);
        setTimeout(() => { if (btnText) btnText.textContent = "style.css'e Kaydet"; }, 1500);
      } else {
        if (btnText) btnText.textContent = 'Hata!';
        showToast('✗', 'Kaydetme basarisiz!', `Sunucu hatasi: ${JSON.stringify(data)}`, true);
      }
    } catch (e) {
      console.error('Save failed:', e);
      if (btnText) btnText.textContent = 'Hata!';
      showToast('✗', 'Kaydetme basarisiz!', `Baglanti hatasi: ${e.message}. Vite dev server calisiyor mu?`, true);
    }
    if (btn) btn.style.opacity = '1';
  }

  // Expose to onclick
  window.saveToStyleCSS = saveToStyleCSS;

  // ══════════════════════════════════════════════
  // TAB SWITCHING
  // ══════════════════════════════════════════════
  function initTabs() {
    const triggers = document.querySelectorAll('[data-tab-trigger]');
    const panels = document.querySelectorAll('[data-tab-panel]');

    triggers.forEach(trigger => {
      trigger.addEventListener('click', () => {
        const target = trigger.dataset.tabTrigger;
        // Update active tab
        triggers.forEach(t => {
          t.classList.remove('text-primary-600', 'border-primary-500', 'font-semibold');
          t.classList.add('text-text-secondary', 'border-transparent', 'font-medium');
          t.setAttribute('aria-selected', 'false');
        });
        trigger.classList.add('text-primary-600', 'border-primary-500', 'font-semibold');
        trigger.classList.remove('text-text-secondary', 'border-transparent', 'font-medium');
        trigger.setAttribute('aria-selected', 'true');
        // Show target panel
        panels.forEach(p => p.style.display = 'none');
        const panel = document.querySelector(`[data-tab-panel="${target}"]`);
        if (panel) panel.style.display = 'block';
        // Scroll to top
        window.scrollTo({ top: 0 });
      });
    });

    // Show first tab by default
    triggers[0]?.click();
  }
  initTabs();

  // ══════════════════════════════════════════════
  // TOKEN SEARCH / FILTER
  // ══════════════════════════════════════════════
  const tokenSearchInput = document.getElementById('token-search');
  const tokenSearchClear = document.getElementById('token-search-clear');
  const tokenSearchCount = document.getElementById('token-search-count');

  if (tokenSearchInput && controlsContainer) {
    const catCards = controlsContainer.querySelectorAll(':scope > div');

    tokenSearchInput.addEventListener('input', () => {
      const query = tokenSearchInput.value.toLowerCase().trim();
      if (tokenSearchClear) tokenSearchClear.classList.toggle('hidden', query.length === 0);

      if (query.length === 0) {
        catCards.forEach(card => { card.style.display = ''; });
        if (tokenSearchCount) tokenSearchCount.classList.add('hidden');
        return;
      }

      let totalMatches = 0;
      catCards.forEach(card => {
        // Search all token labels within this category card
        const labels = card.querySelectorAll('label');
        let matchCount = 0;
        labels.forEach(label => {
          const text = (label.title || label.textContent || '').toLowerCase();
          if (text.includes(query)) matchCount++;
        });
        const hasMatch = matchCount > 0;
        card.style.display = hasMatch ? '' : 'none';
        if (hasMatch) {
          totalMatches += matchCount;
          // Auto-expand the card
          const body = card.querySelector(':scope > div:last-child');
          const chevron = card.querySelector('.ctrl-cat-chevron');
          if (body) body.classList.remove('hidden');
          if (chevron) chevron.classList.add('rotate-90');
        }
      });

      if (tokenSearchCount) {
        tokenSearchCount.textContent = `${totalMatches} sonuc bulundu`;
        tokenSearchCount.classList.remove('hidden');
      }
    });

    if (tokenSearchClear) {
      tokenSearchClear.addEventListener('click', () => {
        tokenSearchInput.value = '';
        tokenSearchInput.dispatchEvent(new Event('input'));
        tokenSearchInput.focus();
      });
    }
  }

  // ══════════════════════════════════════════════
  // PENDING BAR — Reset All button
  // ══════════════════════════════════════════════
  const pendingResetBtn = document.getElementById('pending-reset-btn');
  if (pendingResetBtn) {
    pendingResetBtn.addEventListener('click', () => {
      document.getElementById('reset-all-btn')?.click();
    });
  }
</script>

</body>
</html>
